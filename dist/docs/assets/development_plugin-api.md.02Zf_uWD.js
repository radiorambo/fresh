import{_ as s,c as i,o as e,ag as a}from"./chunks/framework.CffQSbY-.js";const k=JSON.parse('{"title":"Fresh Editor Plugin API","description":"","frontmatter":{},"headers":[],"relativePath":"development/plugin-api.md","filePath":"development/plugin-api.md","lastUpdated":1767757023000}'),n={name:"development/plugin-api.md"};function d(r,t,h,l,p,o){return e(),i("div",null,[...t[0]||(t[0]=[a('<h1 id="fresh-editor-plugin-api" tabindex="-1">Fresh Editor Plugin API <a class="header-anchor" href="#fresh-editor-plugin-api" aria-label="Permalink to &quot;Fresh Editor Plugin API&quot;">​</a></h1><p>This document describes the TypeScript API available to Fresh editor plugins.</p><h2 id="core-concepts" tabindex="-1">Core Concepts <a class="header-anchor" href="#core-concepts" aria-label="Permalink to &quot;Core Concepts&quot;">​</a></h2><h3 id="buffers" tabindex="-1">Buffers <a class="header-anchor" href="#buffers" aria-label="Permalink to &quot;Buffers&quot;">​</a></h3><p>A buffer holds text content and may or may not be associated with a file. Each buffer has a unique numeric ID that persists for the editor session. Buffers track their content, modification state, cursor positions, and path. All text operations (insert, delete, read) use byte offsets, not character indices.</p><h3 id="splits" tabindex="-1">Splits <a class="header-anchor" href="#splits" aria-label="Permalink to &quot;Splits&quot;">​</a></h3><p>A split is a viewport pane that displays a buffer. The editor can have multiple splits arranged in a tree layout. Each split shows exactly one buffer, but the same buffer can be displayed in multiple splits. Use split IDs to control which pane displays which buffer.</p><h3 id="virtual-buffers" tabindex="-1">Virtual Buffers <a class="header-anchor" href="#virtual-buffers" aria-label="Permalink to &quot;Virtual Buffers&quot;">​</a></h3><p>Special buffers created by plugins to display structured data like search results, diagnostics, or git logs. Virtual buffers support text properties (metadata attached to text ranges) that plugins can query when the user selects a line. Unlike normal buffers, virtual buffers are typically read-only and not backed by files.</p><h3 id="text-properties" tabindex="-1">Text Properties <a class="header-anchor" href="#text-properties" aria-label="Permalink to &quot;Text Properties&quot;">​</a></h3><p>Metadata attached to text ranges in virtual buffers. Each entry has text content and a properties object with arbitrary key-value pairs. Use <code>getTextPropertiesAtCursor</code> to retrieve properties at the cursor position (e.g., to get file/line info for &quot;go to&quot;).</p><h3 id="overlays" tabindex="-1">Overlays <a class="header-anchor" href="#overlays" aria-label="Permalink to &quot;Overlays&quot;">​</a></h3><p>Visual decorations applied to buffer text without modifying content. Overlays can change text color and add underlines. Use overlay IDs to manage them; prefix IDs enable batch removal (e.g., &quot;lint:&quot; prefix for all linter highlights).</p><h3 id="modes" tabindex="-1">Modes <a class="header-anchor" href="#modes" aria-label="Permalink to &quot;Modes&quot;">​</a></h3><p>Keybinding contexts that determine how keypresses are interpreted. Each buffer has a mode (e.g., &quot;normal&quot;, &quot;insert&quot;, &quot;special&quot;). Custom modes can inherit from parents and define buffer-local keybindings. Virtual buffers typically use custom modes.</p><h2 id="types" tabindex="-1">Types <a class="header-anchor" href="#types" aria-label="Permalink to &quot;Types&quot;">​</a></h2><h3 id="spawnresult" tabindex="-1">SpawnResult <a class="header-anchor" href="#spawnresult" aria-label="Permalink to &quot;SpawnResult&quot;">​</a></h3><p>Result from spawnProcess</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SpawnResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  stdout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  stderr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  exit_code</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>stdout</code></td><td>Complete stdout as string. Newlines preserved; trailing newline included.</td></tr><tr><td><code>stderr</code></td><td>Complete stderr as string. Contains error messages and warnings.</td></tr><tr><td><code>exit_code</code></td><td>Process exit code. 0 usually means success; -1 if process was killed.</td></tr></tbody></table><h3 id="backgroundprocessresult" tabindex="-1">BackgroundProcessResult <a class="header-anchor" href="#backgroundprocessresult" aria-label="Permalink to &quot;BackgroundProcessResult&quot;">​</a></h3><p>Result from spawnBackgroundProcess - just the process ID</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BackgroundProcessResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  process_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>process_id</code></td><td>Unique process ID for later reference (kill, status check)</td></tr></tbody></table><h3 id="filestat" tabindex="-1">FileStat <a class="header-anchor" href="#filestat" aria-label="Permalink to &quot;FileStat&quot;">​</a></h3><p>File stat information</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FileStat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  exists</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  is_file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  is_dir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  size</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  readonly</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>exists</code></td><td>Whether the path exists</td></tr><tr><td><code>is_file</code></td><td>Whether the path is a file</td></tr><tr><td><code>is_dir</code></td><td>Whether the path is a directory</td></tr><tr><td><code>size</code></td><td>File size in bytes</td></tr><tr><td><code>readonly</code></td><td>Whether the file is read-only</td></tr></tbody></table><h3 id="bufferinfo" tabindex="-1">BufferInfo <a class="header-anchor" href="#bufferinfo" aria-label="Permalink to &quot;BufferInfo&quot;">​</a></h3><p>Buffer information</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BufferInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  modified</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code></td><td>Unique buffer ID</td></tr><tr><td><code>path</code></td><td>File path (empty string if no path)</td></tr><tr><td><code>modified</code></td><td>Whether buffer has unsaved changes</td></tr><tr><td><code>length</code></td><td>Buffer length in bytes</td></tr></tbody></table><h3 id="tsbuffersaveddiff" tabindex="-1">TsBufferSavedDiff <a class="header-anchor" href="#tsbuffersaveddiff" aria-label="Permalink to &quot;TsBufferSavedDiff&quot;">​</a></h3><p>Diff vs last save for a buffer</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsBufferSavedDiff</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  equal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  byte_ranges</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][];</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  line_ranges</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="selectionrange" tabindex="-1">SelectionRange <a class="header-anchor" href="#selectionrange" aria-label="Permalink to &quot;SelectionRange&quot;">​</a></h3><p>Selection range</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SelectionRange</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  start</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  end</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>start</code></td><td>Start byte position</td></tr><tr><td><code>end</code></td><td>End byte position</td></tr></tbody></table><h3 id="cursorinfo" tabindex="-1">CursorInfo <a class="header-anchor" href="#cursorinfo" aria-label="Permalink to &quot;CursorInfo&quot;">​</a></h3><p>Cursor information with optional selection</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CursorInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  position</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  selection</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SelectionRange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>position</code></td><td>Byte position of the cursor</td></tr><tr><td><code>selection</code></td><td>Selection range if text is selected, null otherwise</td></tr></tbody></table><h3 id="tsdiagnosticposition" tabindex="-1">TsDiagnosticPosition <a class="header-anchor" href="#tsdiagnosticposition" aria-label="Permalink to &quot;TsDiagnosticPosition&quot;">​</a></h3><p>LSP diagnostic position</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsDiagnosticPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  line</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  character</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="tsdiagnosticrange" tabindex="-1">TsDiagnosticRange <a class="header-anchor" href="#tsdiagnosticrange" aria-label="Permalink to &quot;TsDiagnosticRange&quot;">​</a></h3><p>LSP diagnostic range</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsDiagnosticRange</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  start</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsDiagnosticPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  end</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsDiagnosticPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="tsdiagnostic" tabindex="-1">TsDiagnostic <a class="header-anchor" href="#tsdiagnostic" aria-label="Permalink to &quot;TsDiagnostic&quot;">​</a></h3><p>LSP diagnostic item for TypeScript plugins</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsDiagnostic</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  uri</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  severity</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  source</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  range</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsDiagnosticRange</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>uri</code></td><td>File URI (e.g., &quot;file:///path/to/file.rs&quot;)</td></tr><tr><td><code>severity</code></td><td>Diagnostic severity: 1=Error, 2=Warning, 3=Info, 4=Hint</td></tr><tr><td><code>message</code></td><td>Diagnostic message</td></tr><tr><td><code>source</code></td><td>Source of the diagnostic (e.g., &quot;rust-analyzer&quot;)</td></tr><tr><td><code>range</code></td><td>Location range in the file</td></tr></tbody></table><h3 id="viewportinfo" tabindex="-1">ViewportInfo <a class="header-anchor" href="#viewportinfo" aria-label="Permalink to &quot;ViewportInfo&quot;">​</a></h3><p>Viewport information</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ViewportInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  top_byte</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  left_column</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  width</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  height</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>top_byte</code></td><td>Byte offset of the top-left visible position</td></tr><tr><td><code>left_column</code></td><td>Column offset for horizontal scrolling</td></tr><tr><td><code>width</code></td><td>Viewport width in columns</td></tr><tr><td><code>height</code></td><td>Viewport height in rows</td></tr></tbody></table><h3 id="promptsuggestion" tabindex="-1">PromptSuggestion <a class="header-anchor" href="#promptsuggestion" aria-label="Permalink to &quot;PromptSuggestion&quot;">​</a></h3><p>Suggestion for prompt autocomplete</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PromptSuggestion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  description</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  disabled</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  keybinding</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>text</code></td><td>Display text for the suggestion</td></tr><tr><td><code>description</code></td><td>Optional description shown alongside</td></tr><tr><td><code>value</code></td><td>Optional value to use instead of text when selected</td></tr><tr><td><code>disabled</code></td><td>Whether the suggestion is disabled</td></tr><tr><td><code>keybinding</code></td><td>Optional keybinding hint</td></tr></tbody></table><h3 id="direntry" tabindex="-1">DirEntry <a class="header-anchor" href="#direntry" aria-label="Permalink to &quot;DirEntry&quot;">​</a></h3><p>Directory entry from readDir</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DirEntry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  is_file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  is_dir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td>Entry name only (not full path). Join with parent path to get absolute path.</td></tr><tr><td><code>is_file</code></td><td>True if entry is a regular file</td></tr><tr><td><code>is_dir</code></td><td>True if entry is a directory. Note: symlinks report the target type.</td></tr></tbody></table><h3 id="textpropertyentry" tabindex="-1">TextPropertyEntry <a class="header-anchor" href="#textpropertyentry" aria-label="Permalink to &quot;TextPropertyEntry&quot;">​</a></h3><p>Entry for virtual buffer content with embedded metadata</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextPropertyEntry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  properties</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">unknown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>text</code></td><td>Text to display. Include trailing newline for separate lines.</td></tr><tr><td><code>properties</code></td><td>Arbitrary metadata queryable via getTextPropertiesAtCursor.</td></tr></tbody></table><h3 id="createvirtualbufferresult" tabindex="-1">CreateVirtualBufferResult <a class="header-anchor" href="#createvirtualbufferresult" aria-label="Permalink to &quot;CreateVirtualBufferResult&quot;">​</a></h3><p>Result from createVirtualBufferInSplit</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CreateVirtualBufferResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  buffer_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  split_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="createvirtualbufferoptions" tabindex="-1">CreateVirtualBufferOptions <a class="header-anchor" href="#createvirtualbufferoptions" aria-label="Permalink to &quot;CreateVirtualBufferOptions&quot;">​</a></h3><p>Configuration for createVirtualBufferInSplit</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CreateVirtualBufferOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  mode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  read_only</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  entries</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextPropertyEntry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[];</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  ratio</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  direction</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  panel_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  show_line_numbers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  show_cursors</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  editing_disabled</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  line_wrap</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td>Buffer name shown in status bar (convention: &quot;<em>Name</em>&quot;)</td></tr><tr><td><code>mode</code></td><td>Mode for keybindings; define with defineMode first</td></tr><tr><td><code>read_only</code></td><td>Prevent text modifications</td></tr><tr><td><code>entries</code></td><td>Content with embedded metadata</td></tr><tr><td><code>ratio</code></td><td>Split ratio (0.3 = new pane gets 30% of space)</td></tr><tr><td><code>direction</code></td><td>Split direction: &quot;horizontal&quot; (below) or &quot;vertical&quot; (side-by-side). Default: horizontal</td></tr><tr><td><code>panel_id</code></td><td>If set and panel exists, update content instead of creating new buffer</td></tr><tr><td><code>show_line_numbers</code></td><td>Show line numbers gutter (default: true)</td></tr><tr><td><code>show_cursors</code></td><td>Show cursor in buffer (default: true)</td></tr><tr><td><code>editing_disabled</code></td><td>Disable all editing commands (default: false)</td></tr><tr><td><code>line_wrap</code></td><td>Enable/disable line wrapping (None = use global setting)</td></tr></tbody></table><h3 id="createvirtualbufferinexistingsplitoptions" tabindex="-1">CreateVirtualBufferInExistingSplitOptions <a class="header-anchor" href="#createvirtualbufferinexistingsplitoptions" aria-label="Permalink to &quot;CreateVirtualBufferInExistingSplitOptions&quot;">​</a></h3><p>Options for creating a virtual buffer in an existing split</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CreateVirtualBufferInExistingSplitOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  mode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  read_only</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  entries</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextPropertyEntry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[];</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  split_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  show_line_numbers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  show_cursors</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  editing_disabled</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  line_wrap</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td>Display name (e.g., &quot;<em>Commit Details</em>&quot;)</td></tr><tr><td><code>mode</code></td><td>Mode name for buffer-local keybindings</td></tr><tr><td><code>read_only</code></td><td>Whether the buffer is read-only</td></tr><tr><td><code>entries</code></td><td>Entries with text and embedded properties</td></tr><tr><td><code>split_id</code></td><td>Target split ID where the buffer should be displayed</td></tr><tr><td><code>show_line_numbers</code></td><td>Whether to show line numbers in the buffer (default true)</td></tr><tr><td><code>show_cursors</code></td><td>Whether to show cursors in the buffer (default true)</td></tr><tr><td><code>editing_disabled</code></td><td>Whether editing is disabled for this buffer (default false)</td></tr><tr><td><code>line_wrap</code></td><td>Enable/disable line wrapping (None = use global setting)</td></tr></tbody></table><h3 id="createvirtualbufferincurrentsplitoptions" tabindex="-1">CreateVirtualBufferInCurrentSplitOptions <a class="header-anchor" href="#createvirtualbufferincurrentsplitoptions" aria-label="Permalink to &quot;CreateVirtualBufferInCurrentSplitOptions&quot;">​</a></h3><p>Options for creating a virtual buffer in the current split as a new tab</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CreateVirtualBufferInCurrentSplitOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  mode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  read_only</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  entries</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextPropertyEntry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[];</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  show_line_numbers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  show_cursors</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  editing_disabled</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  hidden_from_tabs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td>Display name (e.g., &quot;<em>Help</em>&quot;)</td></tr><tr><td><code>mode</code></td><td>Mode name for buffer-local keybindings</td></tr><tr><td><code>read_only</code></td><td>Whether the buffer is read-only</td></tr><tr><td><code>entries</code></td><td>Entries with text and embedded properties</td></tr><tr><td><code>show_line_numbers</code></td><td>Whether to show line numbers in the buffer (default false for help/docs)</td></tr><tr><td><code>show_cursors</code></td><td>Whether to show cursors in the buffer (default true)</td></tr><tr><td><code>editing_disabled</code></td><td>Whether editing is disabled for this buffer (default false)</td></tr><tr><td><code>hidden_from_tabs</code></td><td>Whether this buffer should be hidden from tabs (for composite source buffers)</td></tr></tbody></table><h3 id="tscompositelayoutconfig" tabindex="-1">TsCompositeLayoutConfig <a class="header-anchor" href="#tscompositelayoutconfig" aria-label="Permalink to &quot;TsCompositeLayoutConfig&quot;">​</a></h3><p>Layout configuration for composite buffers</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsCompositeLayoutConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  layout_type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  ratios</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  show_separator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  spacing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> u16</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>layout_type</code></td><td>Layout type: &quot;side-by-side&quot;, &quot;stacked&quot;, or &quot;unified&quot;</td></tr><tr><td><code>ratios</code></td><td>Relative widths for side-by-side layout (e.g., [0.5, 0.5])</td></tr><tr><td><code>show_separator</code></td><td>Show separator between panes</td></tr><tr><td><code>spacing</code></td><td>Spacing between stacked panes</td></tr></tbody></table><h3 id="tscompositepanestyle" tabindex="-1">TsCompositePaneStyle <a class="header-anchor" href="#tscompositepanestyle" aria-label="Permalink to &quot;TsCompositePaneStyle&quot;">​</a></h3><p>Pane style configuration</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsCompositePaneStyle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  add_bg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  remove_bg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  modify_bg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  gutter_style</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>add_bg</code></td><td>Background color for added lines (RGB tuple)</td></tr><tr><td><code>remove_bg</code></td><td>Background color for removed lines (RGB tuple)</td></tr><tr><td><code>modify_bg</code></td><td>Background color for modified lines (RGB tuple)</td></tr><tr><td><code>gutter_style</code></td><td>Gutter style: &quot;line-numbers&quot;, &quot;diff-markers&quot;, &quot;both&quot;, &quot;none&quot;</td></tr></tbody></table><h3 id="tscompositesourceconfig" tabindex="-1">TsCompositeSourceConfig <a class="header-anchor" href="#tscompositesourceconfig" aria-label="Permalink to &quot;TsCompositeSourceConfig&quot;">​</a></h3><p>Source pane configuration for composite buffers</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsCompositeSourceConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  buffer_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  label</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  editable</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  style</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsCompositePaneStyle</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td>Buffer ID to display in this pane</td></tr><tr><td><code>label</code></td><td>Label for the pane (shown in header)</td></tr><tr><td><code>editable</code></td><td>Whether the pane is editable</td></tr><tr><td><code>style</code></td><td>Pane styling options</td></tr></tbody></table><h3 id="tscompositehunk" tabindex="-1">TsCompositeHunk <a class="header-anchor" href="#tscompositehunk" aria-label="Permalink to &quot;TsCompositeHunk&quot;">​</a></h3><p>Diff hunk configuration</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsCompositeHunk</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  old_start</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  old_count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  new_start</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  new_count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>old_start</code></td><td>Start line in old file (0-indexed)</td></tr><tr><td><code>old_count</code></td><td>Number of lines in old file</td></tr><tr><td><code>new_start</code></td><td>Start line in new file (0-indexed)</td></tr><tr><td><code>new_count</code></td><td>Number of lines in new file</td></tr></tbody></table><h3 id="createcompositebufferoptions" tabindex="-1">CreateCompositeBufferOptions <a class="header-anchor" href="#createcompositebufferoptions" aria-label="Permalink to &quot;CreateCompositeBufferOptions&quot;">​</a></h3><p>Options for creating a composite buffer</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CreateCompositeBufferOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  mode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  layout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsCompositeLayoutConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  sources</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsCompositeSourceConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[];</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  hunks</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsCompositeHunk</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td>Display name for the composite buffer (shown in tab)</td></tr><tr><td><code>mode</code></td><td>Mode for keybindings (e.g., &quot;diff-view&quot;)</td></tr><tr><td><code>layout</code></td><td>Layout configuration</td></tr><tr><td><code>sources</code></td><td>Source panes to display</td></tr><tr><td><code>hunks</code></td><td>Optional diff hunks for line alignment</td></tr></tbody></table><h3 id="actionspecjs" tabindex="-1">ActionSpecJs <a class="header-anchor" href="#actionspecjs" aria-label="Permalink to &quot;ActionSpecJs&quot;">​</a></h3><p>JavaScript representation of ActionSpec (with optional count)</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ActionSpecJs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  action</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="tsactionpopupaction" tabindex="-1">TsActionPopupAction <a class="header-anchor" href="#tsactionpopupaction" aria-label="Permalink to &quot;TsActionPopupAction&quot;">​</a></h3><p>TypeScript struct for action popup action</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsActionPopupAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  label</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="tsactionpopupoptions" tabindex="-1">TsActionPopupOptions <a class="header-anchor" href="#tsactionpopupoptions" aria-label="Permalink to &quot;TsActionPopupOptions&quot;">​</a></h3><p>TypeScript struct for action popup options</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsActionPopupOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  title</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  actions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TsActionPopupAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[];</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="api-reference" tabindex="-1">API Reference <a class="header-anchor" href="#api-reference" aria-label="Permalink to &quot;API Reference&quot;">​</a></h2><h3 id="status-and-logging" tabindex="-1">Status and Logging <a class="header-anchor" href="#status-and-logging" aria-label="Permalink to &quot;Status and Logging&quot;">​</a></h3><h4 id="setstatus" tabindex="-1"><code>setStatus</code> <a class="header-anchor" href="#setstatus" aria-label="Permalink to &quot;`setStatus`&quot;">​</a></h4><p>Display a transient message in the editor&#39;s status bar The message will be shown until the next status update or user action. Use for feedback on completed operations (e.g., &quot;File saved&quot;, &quot;2 matches found&quot;).</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setStatus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(message: string): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>message</code></td><td><code>string</code></td><td>Text to display; keep short (status bar has limited width)</td></tr></tbody></table><h4 id="debug" tabindex="-1"><code>debug</code> <a class="header-anchor" href="#debug" aria-label="Permalink to &quot;`debug`&quot;">​</a></h4><p>Log a debug message from a plugin Messages appear in log file when running with RUST_LOG=debug. Useful for plugin development and troubleshooting.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">debug</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(message: string): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>message</code></td><td><code>string</code></td><td>Debug message; include context like function name and relevant values</td></tr></tbody></table><h3 id="buffer-queries" tabindex="-1">Buffer Queries <a class="header-anchor" href="#buffer-queries" aria-label="Permalink to &quot;Buffer Queries&quot;">​</a></h3><h4 id="getthemeschema" tabindex="-1"><code>getThemeSchema</code> <a class="header-anchor" href="#getthemeschema" aria-label="Permalink to &quot;`getThemeSchema`&quot;">​</a></h4><p>Get the theme JSON Schema for the theme editor Returns the raw JSON Schema generated by schemars for ThemeFile. The schema uses standard JSON Schema format with $ref for type references. Plugins are responsible for parsing the schema and resolving $ref references.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getThemeSchema</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): unknown</span></span></code></pre></div><h4 id="getconfig" tabindex="-1"><code>getConfig</code> <a class="header-anchor" href="#getconfig" aria-label="Permalink to &quot;`getConfig`&quot;">​</a></h4><p>Get the current editor configuration Returns the merged configuration (user config file + compiled-in defaults). This is the runtime config that the editor is actually using, including all default values for LSP servers, languages, keybindings, etc.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): unknown</span></span></code></pre></div><h4 id="getuserconfig" tabindex="-1"><code>getUserConfig</code> <a class="header-anchor" href="#getuserconfig" aria-label="Permalink to &quot;`getUserConfig`&quot;">​</a></h4><p>Get the user&#39;s configuration (only explicitly set values) Returns only the configuration from the user&#39;s config file. Fields not present here are using default values. Use this with getConfig() to determine which values are defaults.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getUserConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): unknown</span></span></code></pre></div><h4 id="getactivebufferid" tabindex="-1"><code>getActiveBufferId</code> <a class="header-anchor" href="#getactivebufferid" aria-label="Permalink to &quot;`getActiveBufferId`&quot;">​</a></h4><p>Get the buffer ID of the focused editor pane Returns 0 if no buffer is active (rare edge case). Use this ID with other buffer operations like insertText.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getActiveBufferId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): number</span></span></code></pre></div><h4 id="getcursorposition" tabindex="-1"><code>getCursorPosition</code> <a class="header-anchor" href="#getcursorposition" aria-label="Permalink to &quot;`getCursorPosition`&quot;">​</a></h4><p>Get the byte offset of the primary cursor in the active buffer Returns 0 if no cursor exists. For multi-cursor scenarios, use getAllCursors to get all cursor positions with selection info. Note: This is a byte offset, not a character index (UTF-8 matters).</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCursorPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): number</span></span></code></pre></div><h4 id="getbufferpath" tabindex="-1"><code>getBufferPath</code> <a class="header-anchor" href="#getbufferpath" aria-label="Permalink to &quot;`getBufferPath`&quot;">​</a></h4><p>Get the absolute file path for a buffer Returns empty string for unsaved buffers or virtual buffers. The path is always absolute. Use this to determine file type, construct related paths, or display to the user.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBufferPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number): string</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>Target buffer ID</td></tr></tbody></table><h4 id="getbufferlength" tabindex="-1"><code>getBufferLength</code> <a class="header-anchor" href="#getbufferlength" aria-label="Permalink to &quot;`getBufferLength`&quot;">​</a></h4><p>Get the total byte length of a buffer&#39;s content Returns 0 if buffer doesn&#39;t exist.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBufferLength</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number): number</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>Target buffer ID</td></tr></tbody></table><h4 id="isbuffermodified" tabindex="-1"><code>isBufferModified</code> <a class="header-anchor" href="#isbuffermodified" aria-label="Permalink to &quot;`isBufferModified`&quot;">​</a></h4><p>Check if a buffer has been modified since last save Returns false if buffer doesn&#39;t exist or has never been saved. Virtual buffers are never considered modified.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isBufferModified</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>Target buffer ID</td></tr></tbody></table><h4 id="getcurrentlocale" tabindex="-1"><code>getCurrentLocale</code> <a class="header-anchor" href="#getcurrentlocale" aria-label="Permalink to &quot;`getCurrentLocale`&quot;">​</a></h4><p>Get the currently active locale</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCurrentLocale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): string</span></span></code></pre></div><h4 id="getactivesplitid" tabindex="-1"><code>getActiveSplitId</code> <a class="header-anchor" href="#getactivesplitid" aria-label="Permalink to &quot;`getActiveSplitId`&quot;">​</a></h4><p>Get the ID of the focused split pane Use with focusSplit, setSplitBuffer, or createVirtualBufferInExistingSplit to manage split layouts.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getActiveSplitId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): number</span></span></code></pre></div><h4 id="getcursorline" tabindex="-1"><code>getCursorLine</code> <a class="header-anchor" href="#getcursorline" aria-label="Permalink to &quot;`getCursorLine`&quot;">​</a></h4><p>Get the line number of the primary cursor (1-indexed) Line numbers start at 1. Returns 1 if no cursor exists. For byte offset use getCursorPosition instead.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCursorLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): number</span></span></code></pre></div><h4 id="getallcursorpositions" tabindex="-1"><code>getAllCursorPositions</code> <a class="header-anchor" href="#getallcursorpositions" aria-label="Permalink to &quot;`getAllCursorPositions`&quot;">​</a></h4><p>Get byte offsets of all cursors (multi-cursor support) Returns array of positions; empty if no cursors. Primary cursor is typically first. For selection info use getAllCursors instead.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAllCursorPositions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): number[]</span></span></code></pre></div><h4 id="isprocessrunning" tabindex="-1"><code>isProcessRunning</code> <a class="header-anchor" href="#isprocessrunning" aria-label="Permalink to &quot;`isProcessRunning`&quot;">​</a></h4><p>Check if a background process is still running</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isProcessRunning</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(#[bigint] process_id: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>#[bigint] process_id</code></td><td><code>number</code></td><td>-</td></tr></tbody></table><h4 id="gethighlights" tabindex="-1"><code>getHighlights</code> <a class="header-anchor" href="#gethighlights" aria-label="Permalink to &quot;`getHighlights`&quot;">​</a></h4><p>Compute syntax highlighting for a buffer range</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getHighlights</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, start: number, end: number): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TsHighlightSpan[]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>-</td></tr><tr><td><code>start</code></td><td><code>number</code></td><td>-</td></tr><tr><td><code>end</code></td><td><code>number</code></td><td>-</td></tr></tbody></table><h4 id="getbuffersaveddiff" tabindex="-1"><code>getBufferSavedDiff</code> <a class="header-anchor" href="#getbuffersaveddiff" aria-label="Permalink to &quot;`getBufferSavedDiff`&quot;">​</a></h4><p>Get diff vs last saved snapshot for a buffer</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBufferSavedDiff</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number): TsBufferSavedDiff </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>-</td></tr></tbody></table><h4 id="getalldiagnostics" tabindex="-1"><code>getAllDiagnostics</code> <a class="header-anchor" href="#getalldiagnostics" aria-label="Permalink to &quot;`getAllDiagnostics`&quot;">​</a></h4><p>Get all LSP diagnostics across all files</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAllDiagnostics</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): TsDiagnostic[]</span></span></code></pre></div><h4 id="getbuffertext" tabindex="-1"><code>getBufferText</code> <a class="header-anchor" href="#getbuffertext" aria-label="Permalink to &quot;`getBufferText`&quot;">​</a></h4><p>Get text from a buffer range Used by vi mode plugin for yank operations - reads text without deleting.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBufferText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, start: number, end: number): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>Buffer ID</td></tr><tr><td><code>start</code></td><td><code>number</code></td><td>Start byte offset</td></tr><tr><td><code>end</code></td><td><code>number</code></td><td>End byte offset</td></tr></tbody></table><h4 id="geteditormode" tabindex="-1"><code>getEditorMode</code> <a class="header-anchor" href="#geteditormode" aria-label="Permalink to &quot;`getEditorMode`&quot;">​</a></h4><p>Get the current global editor mode</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getEditorMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): string</span></span></code></pre></div><h3 id="buffer-info-queries" tabindex="-1">Buffer Info Queries <a class="header-anchor" href="#buffer-info-queries" aria-label="Permalink to &quot;Buffer Info Queries&quot;">​</a></h3><h4 id="getbufferinfo" tabindex="-1"><code>getBufferInfo</code> <a class="header-anchor" href="#getbufferinfo" aria-label="Permalink to &quot;`getBufferInfo`&quot;">​</a></h4><p>Get full information about a buffer</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBufferInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number): BufferInfo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>Buffer ID</td></tr></tbody></table><h4 id="listbuffers" tabindex="-1"><code>listBuffers</code> <a class="header-anchor" href="#listbuffers" aria-label="Permalink to &quot;`listBuffers`&quot;">​</a></h4><p>List all open buffers</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listBuffers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): BufferInfo[]</span></span></code></pre></div><h4 id="getprimarycursor" tabindex="-1"><code>getPrimaryCursor</code> <a class="header-anchor" href="#getprimarycursor" aria-label="Permalink to &quot;`getPrimaryCursor`&quot;">​</a></h4><p>Get primary cursor with selection info</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getPrimaryCursor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): CursorInfo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span></code></pre></div><h4 id="getallcursors" tabindex="-1"><code>getAllCursors</code> <a class="header-anchor" href="#getallcursors" aria-label="Permalink to &quot;`getAllCursors`&quot;">​</a></h4><p>Get all cursors (for multi-cursor support)</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAllCursors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): CursorInfo[]</span></span></code></pre></div><h4 id="getviewport" tabindex="-1"><code>getViewport</code> <a class="header-anchor" href="#getviewport" aria-label="Permalink to &quot;`getViewport`&quot;">​</a></h4><p>Get viewport information</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getViewport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): ViewportInfo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span></code></pre></div><h3 id="prompt-operations" tabindex="-1">Prompt Operations <a class="header-anchor" href="#prompt-operations" aria-label="Permalink to &quot;Prompt Operations&quot;">​</a></h3><h4 id="startprompt" tabindex="-1"><code>startPrompt</code> <a class="header-anchor" href="#startprompt" aria-label="Permalink to &quot;`startPrompt`&quot;">​</a></h4><p>Start an interactive prompt</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startPrompt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(label: string, prompt_type: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>label</code></td><td><code>string</code></td><td>Label to display (e.g., &quot;Git grep: &quot;)</td></tr><tr><td><code>prompt_type</code></td><td><code>string</code></td><td>Type identifier (e.g., &quot;git-grep&quot;)</td></tr></tbody></table><h4 id="setpromptsuggestions" tabindex="-1"><code>setPromptSuggestions</code> <a class="header-anchor" href="#setpromptsuggestions" aria-label="Permalink to &quot;`setPromptSuggestions`&quot;">​</a></h4><p>Set suggestions for the current prompt</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setPromptSuggestions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(suggestions: PromptSuggestion[]): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>suggestions</code></td><td><code>PromptSuggestion[]</code></td><td>Array of suggestions to display</td></tr></tbody></table><h3 id="buffer-mutations" tabindex="-1">Buffer Mutations <a class="header-anchor" href="#buffer-mutations" aria-label="Permalink to &quot;Buffer Mutations&quot;">​</a></h3><h4 id="applytheme" tabindex="-1"><code>applyTheme</code> <a class="header-anchor" href="#applytheme" aria-label="Permalink to &quot;`applyTheme`&quot;">​</a></h4><p>Apply a theme by name Loads and applies the specified theme immediately. The theme can be a built-in theme name or a custom theme from the themes directory.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">applyTheme</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(theme_name: string): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>theme_name</code></td><td><code>string</code></td><td>Name of the theme to apply (e.g., &quot;dark&quot;, &quot;light&quot;, &quot;my-custom-theme&quot;)</td></tr></tbody></table><h4 id="reloadconfig" tabindex="-1"><code>reloadConfig</code> <a class="header-anchor" href="#reloadconfig" aria-label="Permalink to &quot;`reloadConfig`&quot;">​</a></h4><p>Reload configuration from file After a plugin saves config changes to the config file, call this to reload the editor&#39;s in-memory configuration. This ensures the editor and plugins stay in sync with the saved config.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reloadConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><h4 id="error" tabindex="-1"><code>error</code> <a class="header-anchor" href="#error" aria-label="Permalink to &quot;`error`&quot;">​</a></h4><p>Log an error message from a plugin Messages appear in log file when running with RUST_LOG=error. Use for critical errors that need attention.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(message: string): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>message</code></td><td><code>string</code></td><td>Error message</td></tr></tbody></table><h4 id="warn" tabindex="-1"><code>warn</code> <a class="header-anchor" href="#warn" aria-label="Permalink to &quot;`warn`&quot;">​</a></h4><p>Log a warning message from a plugin Messages appear in log file when running with RUST_LOG=warn. Use for warnings that don&#39;t prevent operation but indicate issues.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(message: string): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>message</code></td><td><code>string</code></td><td>Warning message</td></tr></tbody></table><h4 id="info" tabindex="-1"><code>info</code> <a class="header-anchor" href="#info" aria-label="Permalink to &quot;`info`&quot;">​</a></h4><p>Log an info message from a plugin Messages appear in log file when running with RUST_LOG=info. Use for important operational messages.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(message: string): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>message</code></td><td><code>string</code></td><td>Info message</td></tr></tbody></table><h4 id="setclipboard" tabindex="-1"><code>setClipboard</code> <a class="header-anchor" href="#setclipboard" aria-label="Permalink to &quot;`setClipboard`&quot;">​</a></h4><p>Copy text to the system clipboard Copies the provided text to both the internal and system clipboard. Uses OSC 52 and arboard for cross-platform compatibility.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setClipboard</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(text: string): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>text</code></td><td><code>string</code></td><td>Text to copy to clipboard</td></tr></tbody></table><h4 id="inserttext" tabindex="-1"><code>insertText</code> <a class="header-anchor" href="#inserttext" aria-label="Permalink to &quot;`insertText`&quot;">​</a></h4><p>Insert text at a byte position in a buffer Text is inserted before the byte at position. Position must be valid (0 to buffer length). Insertion shifts all text after position. Operation is asynchronous; returns true if command was sent successfully.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">insertText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, position: number, text: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>Target buffer ID</td></tr><tr><td><code>position</code></td><td><code>number</code></td><td>Byte offset where text will be inserted (must be at char boundary)</td></tr><tr><td><code>text</code></td><td><code>string</code></td><td>UTF-8 text to insert</td></tr></tbody></table><h4 id="deleterange" tabindex="-1"><code>deleteRange</code> <a class="header-anchor" href="#deleterange" aria-label="Permalink to &quot;`deleteRange`&quot;">​</a></h4><p>Delete a byte range from a buffer Deletes bytes from start (inclusive) to end (exclusive). Both positions must be at valid UTF-8 char boundaries. Operation is asynchronous; returns true if command was sent successfully.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">deleteRange</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, start: number, end: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>Target buffer ID</td></tr><tr><td><code>start</code></td><td><code>number</code></td><td>Start byte offset (inclusive)</td></tr><tr><td><code>end</code></td><td><code>number</code></td><td>End byte offset (exclusive)</td></tr></tbody></table><h4 id="clearnamespace" tabindex="-1"><code>clearNamespace</code> <a class="header-anchor" href="#clearnamespace" aria-label="Permalink to &quot;`clearNamespace`&quot;">​</a></h4><p>Clear all overlays in a namespace</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clearNamespace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, namespace: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>The buffer ID</td></tr><tr><td><code>namespace</code></td><td><code>string</code></td><td>The namespace to clear</td></tr></tbody></table><h4 id="setlinenumbers" tabindex="-1"><code>setLineNumbers</code> <a class="header-anchor" href="#setlinenumbers" aria-label="Permalink to &quot;`setLineNumbers`&quot;">​</a></h4><p>Enable/disable line numbers for a buffer</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setLineNumbers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, enabled: boolean): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>The buffer ID</td></tr><tr><td><code>enabled</code></td><td><code>boolean</code></td><td>Whether to show line numbers</td></tr></tbody></table><h4 id="addvirtualline" tabindex="-1"><code>addVirtualLine</code> <a class="header-anchor" href="#addvirtualline" aria-label="Permalink to &quot;`addVirtualLine`&quot;">​</a></h4><p>Add a virtual line above or below a source line</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addVirtualLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, position: number, text: string, fg_r: number, fg_g: number, fg_b: number, bg_r: i16, bg_g: i16, bg_b: i16, above: boolean, namespace: string, priority: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>The buffer ID</td></tr><tr><td><code>position</code></td><td><code>number</code></td><td>Byte position to anchor the virtual line to</td></tr><tr><td><code>text</code></td><td><code>string</code></td><td>The text content of the virtual line</td></tr><tr><td><code>fg_r</code></td><td><code>number</code></td><td>Foreground red color component (0-255)</td></tr><tr><td><code>fg_g</code></td><td><code>number</code></td><td>Foreground green color component (0-255)</td></tr><tr><td><code>fg_b</code></td><td><code>number</code></td><td>Foreground blue color component (0-255)</td></tr><tr><td><code>bg_r</code></td><td><code>i16</code></td><td>Background red color component (0-255), -1 for transparent</td></tr><tr><td><code>bg_g</code></td><td><code>i16</code></td><td>Background green color component (0-255), -1 for transparent</td></tr><tr><td><code>bg_b</code></td><td><code>i16</code></td><td>Background blue color component (0-255), -1 for transparent</td></tr><tr><td><code>above</code></td><td><code>boolean</code></td><td>Whether to insert above (true) or below (false) the line</td></tr><tr><td><code>namespace</code></td><td><code>string</code></td><td>Namespace for bulk removal (e.g., &quot;git-blame&quot;)</td></tr><tr><td><code>priority</code></td><td><code>number</code></td><td>Priority for ordering multiple lines at same position</td></tr></tbody></table><h4 id="setlineindicator" tabindex="-1"><code>setLineIndicator</code> <a class="header-anchor" href="#setlineindicator" aria-label="Permalink to &quot;`setLineIndicator`&quot;">​</a></h4><p>Set a line indicator in the gutter&#39;s indicator column</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setLineIndicator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, line: number, namespace: string, symbol: string, r: number, g: number, b: number, priority: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>The buffer ID</td></tr><tr><td><code>line</code></td><td><code>number</code></td><td>Line number (0-indexed)</td></tr><tr><td><code>namespace</code></td><td><code>string</code></td><td>Namespace for grouping (e.g., &quot;git-gutter&quot;, &quot;breakpoints&quot;)</td></tr><tr><td><code>symbol</code></td><td><code>string</code></td><td>Symbol to display (e.g., &quot;│&quot;, &quot;●&quot;, &quot;★&quot;)</td></tr><tr><td><code>r</code></td><td><code>number</code></td><td>Red color component (0-255)</td></tr><tr><td><code>g</code></td><td><code>number</code></td><td>Green color component (0-255)</td></tr><tr><td><code>b</code></td><td><code>number</code></td><td>uffer_id - The buffer ID</td></tr><tr><td><code>priority</code></td><td><code>number</code></td><td>Priority for display when multiple indicators exist (higher wins)</td></tr></tbody></table><h4 id="clearlineindicators" tabindex="-1"><code>clearLineIndicators</code> <a class="header-anchor" href="#clearlineindicators" aria-label="Permalink to &quot;`clearLineIndicators`&quot;">​</a></h4><p>Clear all line indicators for a specific namespace</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clearLineIndicators</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, namespace: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>The buffer ID</td></tr><tr><td><code>namespace</code></td><td><code>string</code></td><td>Namespace to clear (e.g., &quot;git-gutter&quot;)</td></tr></tbody></table><h4 id="submitviewtransform" tabindex="-1"><code>submitViewTransform</code> <a class="header-anchor" href="#submitviewtransform" aria-label="Permalink to &quot;`submitViewTransform`&quot;">​</a></h4><p>Submit a transformed view stream for a viewport</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">submitViewTransform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, split_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> number </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, start: number, end: number, tokens: ViewTokenWire[], layout_hints</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LayoutHints </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>Buffer to apply the transform to</td></tr><tr><td><code>split_id</code></td><td>`number</td><td>null` (optional)</td></tr><tr><td><code>start</code></td><td><code>number</code></td><td>Viewport start byte</td></tr><tr><td><code>end</code></td><td><code>number</code></td><td>Viewport end byte</td></tr><tr><td><code>tokens</code></td><td><code>ViewTokenWire[]</code></td><td>Array of tokens with source offsets</td></tr><tr><td><code>layout_hints</code></td><td>`LayoutHints</td><td>null` (optional)</td></tr></tbody></table><h4 id="clearviewtransform" tabindex="-1"><code>clearViewTransform</code> <a class="header-anchor" href="#clearviewtransform" aria-label="Permalink to &quot;`clearViewTransform`&quot;">​</a></h4><p>Clear view transform for a buffer/split (returns to normal rendering)</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clearViewTransform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, split_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> number </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>Buffer ID</td></tr><tr><td><code>split_id</code></td><td>`number</td><td>null` (optional)</td></tr></tbody></table><h4 id="insertatcursor" tabindex="-1"><code>insertAtCursor</code> <a class="header-anchor" href="#insertatcursor" aria-label="Permalink to &quot;`insertAtCursor`&quot;">​</a></h4><p>Insert text at the current cursor position in the active buffer</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">insertAtCursor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(text: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>text</code></td><td><code>string</code></td><td>The text to insert</td></tr></tbody></table><h4 id="plugintranslate" tabindex="-1"><code>pluginTranslate</code> <a class="header-anchor" href="#plugintranslate" aria-label="Permalink to &quot;`pluginTranslate`&quot;">​</a></h4><p>Translate a string for a plugin using the current locale</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pluginTranslate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(plugin_name: string, key: string, args: Record</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string, unknown</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">): string</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>plugin_name</code></td><td><code>string</code></td><td>-</td></tr><tr><td><code>key</code></td><td><code>string</code></td><td>-</td></tr><tr><td><code>args</code></td><td><code>Record&lt;string, unknown&gt;</code></td><td>-</td></tr></tbody></table><h4 id="registercommand" tabindex="-1"><code>registerCommand</code> <a class="header-anchor" href="#registercommand" aria-label="Permalink to &quot;`registerCommand`&quot;">​</a></h4><p>Register a custom command that can be triggered by keybindings or the command palette</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">registerCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(name: string, description: string, action: string, contexts: string, source: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td><code>string</code></td><td>-</td></tr><tr><td><code>description</code></td><td><code>string</code></td><td>-</td></tr><tr><td><code>action</code></td><td><code>string</code></td><td>-</td></tr><tr><td><code>contexts</code></td><td><code>string</code></td><td>-</td></tr><tr><td><code>source</code></td><td><code>string</code></td><td>-</td></tr></tbody></table><h4 id="unregistercommand" tabindex="-1"><code>unregisterCommand</code> <a class="header-anchor" href="#unregistercommand" aria-label="Permalink to &quot;`unregisterCommand`&quot;">​</a></h4><p>Unregister a custom command by name</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unregisterCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(name: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td><code>string</code></td><td>The name of the command to unregister</td></tr></tbody></table><h4 id="setcontext" tabindex="-1"><code>setContext</code> <a class="header-anchor" href="#setcontext" aria-label="Permalink to &quot;`setContext`&quot;">​</a></h4><p>Set or unset a custom context for command visibility Custom contexts allow plugins to control when their commands are available. For example, setting &quot;config-editor&quot; context makes config editor commands visible.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(name: string, active: boolean): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td><code>string</code></td><td>Context name (e.g., &quot;config-editor&quot;)</td></tr><tr><td><code>active</code></td><td><code>boolean</code></td><td>Whether the context is active (true = set, false = unset)</td></tr></tbody></table><h4 id="openfile" tabindex="-1"><code>openFile</code> <a class="header-anchor" href="#openfile" aria-label="Permalink to &quot;`openFile`&quot;">​</a></h4><p>Open a file in the editor, optionally at a specific location</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path: string, line: number, column: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>path</code></td><td><code>string</code></td><td>File path to open</td></tr><tr><td><code>line</code></td><td><code>number</code></td><td>Line number to jump to (0 for no jump)</td></tr><tr><td><code>column</code></td><td><code>number</code></td><td>Column number to jump to (0 for no jump)</td></tr></tbody></table><h4 id="openfileinsplit" tabindex="-1"><code>openFileInSplit</code> <a class="header-anchor" href="#openfileinsplit" aria-label="Permalink to &quot;`openFileInSplit`&quot;">​</a></h4><p>Open a file in a specific split pane</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openFileInSplit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(split_id: number, path: string, line: number, column: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>split_id</code></td><td><code>number</code></td><td>The split ID to open the file in</td></tr><tr><td><code>path</code></td><td><code>string</code></td><td>File path to open</td></tr><tr><td><code>line</code></td><td><code>number</code></td><td>Line number to jump to (0 for no jump)</td></tr><tr><td><code>column</code></td><td><code>number</code></td><td>Column number to jump to (0 for no jump)</td></tr></tbody></table><h4 id="spawnbackgroundprocess" tabindex="-1"><code>spawnBackgroundProcess</code> <a class="header-anchor" href="#spawnbackgroundprocess" aria-label="Permalink to &quot;`spawnBackgroundProcess`&quot;">​</a></h4><p>Spawn a long-running background process Unlike spawnProcess which waits for completion, this starts a process in the background and returns immediately with a process ID. Use killProcess(id) to terminate the process later. Use isProcessRunning(id) to check if it&#39;s still running. const proc = await editor.spawnBackgroundProcess(&quot;asciinema&quot;, [&quot;rec&quot;, &quot;output.cast&quot;]); // Later... await editor.killProcess(proc.process_id);</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">spawnBackgroundProcess</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(command: string, args: string[], cwd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> string </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BackgroundProcessResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>command</code></td><td><code>string</code></td><td>Program name (searched in PATH) or absolute path</td></tr><tr><td><code>args</code></td><td><code>string[]</code></td><td>Command arguments (each array element is one argument)</td></tr><tr><td><code>cwd</code></td><td>`string</td><td>null` (optional)</td></tr></tbody></table><p><strong>Example:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> proc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> editor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">spawnBackgroundProcess</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;asciinema&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;rec&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;output.cast&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Later...</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> editor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">killProcess</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(proc.process_id);</span></span></code></pre></div><h4 id="killprocess" tabindex="-1"><code>killProcess</code> <a class="header-anchor" href="#killprocess" aria-label="Permalink to &quot;`killProcess`&quot;">​</a></h4><p>Kill a background or cancellable process by ID Sends SIGTERM to gracefully terminate the process. Returns true if the process was found and killed, false if not found.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">killProcess</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(#[bigint] process_id: number): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>#[bigint] process_id</code></td><td><code>number</code></td><td>-</td></tr></tbody></table><h4 id="spawnprocesswait" tabindex="-1"><code>spawnProcessWait</code> <a class="header-anchor" href="#spawnprocesswait" aria-label="Permalink to &quot;`spawnProcessWait`&quot;">​</a></h4><p>Wait for a cancellable process to complete and get its result</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">spawnProcessWait</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(#[bigint] process_id: number): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SpawnResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>#[bigint] process_id</code></td><td><code>number</code></td><td>-</td></tr></tbody></table><h4 id="delay" tabindex="-1"><code>delay</code> <a class="header-anchor" href="#delay" aria-label="Permalink to &quot;`delay`&quot;">​</a></h4><p>Delay execution for a specified number of milliseconds Useful for debouncing user input or adding delays between operations. await editor.delay(100); // Wait 100ms</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(#[bigint] ms: number): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>#[bigint] ms</code></td><td><code>number</code></td><td>-</td></tr></tbody></table><p><strong>Example:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> editor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Wait 100ms</span></span></code></pre></div><h4 id="findbufferbypath" tabindex="-1"><code>findBufferByPath</code> <a class="header-anchor" href="#findbufferbypath" aria-label="Permalink to &quot;`findBufferByPath`&quot;">​</a></h4><p>Find a buffer ID by its file path</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findBufferByPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path: string): number</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>path</code></td><td><code>string</code></td><td>-</td></tr></tbody></table><h4 id="startpromptwithinitial" tabindex="-1"><code>startPromptWithInitial</code> <a class="header-anchor" href="#startpromptwithinitial" aria-label="Permalink to &quot;`startPromptWithInitial`&quot;">​</a></h4><p>Start a prompt with pre-filled initial value</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startPromptWithInitial</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(label: string, prompt_type: string, initial_value: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>label</code></td><td><code>string</code></td><td>Label to display (e.g., &quot;Git grep: &quot;)</td></tr><tr><td><code>prompt_type</code></td><td><code>string</code></td><td>Type identifier (e.g., &quot;git-grep&quot;)</td></tr><tr><td><code>initial_value</code></td><td><code>string</code></td><td>Initial text to pre-fill in the prompt</td></tr></tbody></table><h4 id="createcompositebuffer" tabindex="-1"><code>createCompositeBuffer</code> <a class="header-anchor" href="#createcompositebuffer" aria-label="Permalink to &quot;`createCompositeBuffer`&quot;">​</a></h4><p>Create a composite buffer that displays multiple source buffers Composite buffers allow displaying multiple underlying buffers in a single tab/view area with custom layouts (side-by-side, stacked, unified). This is useful for diff views, merge conflict resolution, etc.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createCompositeBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(options: CreateCompositeBufferOptions): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">number</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>options</code></td><td><code>CreateCompositeBufferOptions</code></td><td>Configuration for the composite buffer</td></tr></tbody></table><h4 id="updatecompositealignment" tabindex="-1"><code>updateCompositeAlignment</code> <a class="header-anchor" href="#updatecompositealignment" aria-label="Permalink to &quot;`updateCompositeAlignment`&quot;">​</a></h4><p>Update line alignment for a composite buffer</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">updateCompositeAlignment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, hunks: TsCompositeHunk[]): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>The composite buffer ID</td></tr><tr><td><code>hunks</code></td><td><code>TsCompositeHunk[]</code></td><td>New diff hunks for alignment</td></tr></tbody></table><h4 id="closecompositebuffer" tabindex="-1"><code>closeCompositeBuffer</code> <a class="header-anchor" href="#closecompositebuffer" aria-label="Permalink to &quot;`closeCompositeBuffer`&quot;">​</a></h4><p>Close a composite buffer</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">closeCompositeBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>The composite buffer ID to close</td></tr></tbody></table><h4 id="sendlsprequest" tabindex="-1"><code>sendLspRequest</code> <a class="header-anchor" href="#sendlsprequest" aria-label="Permalink to &quot;`sendLspRequest`&quot;">​</a></h4><p>Send an arbitrary LSP request and receive the raw JSON response</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sendLspRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(language: string, method: string, params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> unknown </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">unknown</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>language</code></td><td><code>string</code></td><td>Language ID (e.g., &quot;cpp&quot;)</td></tr><tr><td><code>method</code></td><td><code>string</code></td><td>Full LSP method (e.g., &quot;textDocument/switchSourceHeader&quot;)</td></tr><tr><td><code>params</code></td><td>`unknown</td><td>null` (optional)</td></tr></tbody></table><h4 id="setsplitscroll" tabindex="-1"><code>setSplitScroll</code> <a class="header-anchor" href="#setsplitscroll" aria-label="Permalink to &quot;`setSplitScroll`&quot;">​</a></h4><p>Set the scroll position of a specific split</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setSplitScroll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(split_id: number, top_byte: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>split_id</code></td><td><code>number</code></td><td>The split ID</td></tr><tr><td><code>top_byte</code></td><td><code>number</code></td><td>The byte offset of the top visible line</td></tr></tbody></table><h4 id="setsplitratio" tabindex="-1"><code>setSplitRatio</code> <a class="header-anchor" href="#setsplitratio" aria-label="Permalink to &quot;`setSplitRatio`&quot;">​</a></h4><p>Set the ratio of a split container</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setSplitRatio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(split_id: number, ratio: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>split_id</code></td><td><code>number</code></td><td>ID of the split</td></tr><tr><td><code>ratio</code></td><td><code>number</code></td><td>Ratio between 0.0 and 1.0 (0.5 = equal split)</td></tr></tbody></table><h4 id="distributesplitsevenly" tabindex="-1"><code>distributeSplitsEvenly</code> <a class="header-anchor" href="#distributesplitsevenly" aria-label="Permalink to &quot;`distributeSplitsEvenly`&quot;">​</a></h4><p>Distribute all visible splits evenly This adjusts the ratios of all container splits so each leaf split gets equal space</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">distributeSplitsEvenly</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): boolean</span></span></code></pre></div><h4 id="setbuffercursor" tabindex="-1"><code>setBufferCursor</code> <a class="header-anchor" href="#setbuffercursor" aria-label="Permalink to &quot;`setBufferCursor`&quot;">​</a></h4><p>Set cursor position in a buffer (also scrolls viewport to show cursor)</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setBufferCursor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, position: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>ID of the buffer</td></tr><tr><td><code>position</code></td><td><code>number</code></td><td>Byte offset position for the cursor</td></tr></tbody></table><h4 id="executeaction" tabindex="-1"><code>executeAction</code> <a class="header-anchor" href="#executeaction" aria-label="Permalink to &quot;`executeAction`&quot;">​</a></h4><p>Execute a built-in editor action by name This is used by vi mode plugin to run motions and then check cursor position. For example, to implement &quot;dw&quot; (delete word), the plugin:</p><ol><li>Saves current cursor position</li><li>Calls executeAction(&quot;move_word_right&quot;) - cursor moves</li><li>Gets new cursor position</li><li>Deletes from old to new position</li></ol><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">executeAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(action_name: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>action_name</code></td><td><code>string</code></td><td>Action name (e.g., &quot;move_word_right&quot;, &quot;move_line_end&quot;)</td></tr></tbody></table><h4 id="executeactions" tabindex="-1"><code>executeActions</code> <a class="header-anchor" href="#executeactions" aria-label="Permalink to &quot;`executeActions`&quot;">​</a></h4><p>Execute multiple actions in sequence, each with an optional repeat count Used by vi mode for count prefix (e.g., &quot;3dw&quot; = delete 3 words). All actions execute atomically with no plugin roundtrips between them.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">executeActions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(actions: ActionSpecJs[]): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>actions</code></td><td><code>ActionSpecJs[]</code></td><td>Array of {action: string, count?: number} objects</td></tr></tbody></table><h4 id="seteditormode" tabindex="-1"><code>setEditorMode</code> <a class="header-anchor" href="#seteditormode" aria-label="Permalink to &quot;`setEditorMode`&quot;">​</a></h4><p>Set the global editor mode (for modal editing like vi mode) When a mode is set, its keybindings take precedence over normal key handling. Pass null/undefined to clear the mode and return to normal editing.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setEditorMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> string </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>mode</code></td><td>`string</td><td>null` (optional)</td></tr></tbody></table><h4 id="showactionpopup" tabindex="-1"><code>showActionPopup</code> <a class="header-anchor" href="#showactionpopup" aria-label="Permalink to &quot;`showActionPopup`&quot;">​</a></h4><p>Show an action popup with buttons for user interaction When the user selects an action, the ActionPopupResult hook is fired.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">showActionPopup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(options: TsActionPopupOptions): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>options</code></td><td><code>TsActionPopupOptions</code></td><td>Popup configuration with id, title, message, and actions</td></tr></tbody></table><h4 id="disablelspforlanguage" tabindex="-1"><code>disableLspForLanguage</code> <a class="header-anchor" href="#disablelspforlanguage" aria-label="Permalink to &quot;`disableLspForLanguage`&quot;">​</a></h4><p>Disable LSP for a specific language and persist to config This is used by LSP helper plugins to let users disable LSP for languages where the server is not available or not working.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">disableLspForLanguage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(language: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>language</code></td><td><code>string</code></td><td>The language to disable LSP for (e.g., &quot;python&quot;, &quot;rust&quot;)</td></tr></tbody></table><h4 id="createscrollsyncgroup" tabindex="-1"><code>createScrollSyncGroup</code> <a class="header-anchor" href="#createscrollsyncgroup" aria-label="Permalink to &quot;`createScrollSyncGroup`&quot;">​</a></h4><p>Create a scroll sync group for anchor-based synchronized scrolling Used for side-by-side diff views where two panes need to scroll together. The plugin provides the group ID (must be unique per plugin).</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createScrollSyncGroup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(group_id: number, left_split: number, right_split: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>group_id</code></td><td><code>number</code></td><td>-</td></tr><tr><td><code>left_split</code></td><td><code>number</code></td><td>-</td></tr><tr><td><code>right_split</code></td><td><code>number</code></td><td>-</td></tr></tbody></table><h4 id="setscrollsyncanchors" tabindex="-1"><code>setScrollSyncAnchors</code> <a class="header-anchor" href="#setscrollsyncanchors" aria-label="Permalink to &quot;`setScrollSyncAnchors`&quot;">​</a></h4><p>Set sync anchors for a scroll sync group Anchors map corresponding line numbers between left and right buffers. Each anchor is a tuple of (left_line, right_line).</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setScrollSyncAnchors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(group_id: number, anchors: Vec</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(usize, usize): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>group_id</code></td><td><code>number</code></td><td>-</td></tr><tr><td><code>anchors</code></td><td><code>Vec&lt;(usize, usize</code></td><td>-</td></tr></tbody></table><h4 id="removescrollsyncgroup" tabindex="-1"><code>removeScrollSyncGroup</code> <a class="header-anchor" href="#removescrollsyncgroup" aria-label="Permalink to &quot;`removeScrollSyncGroup`&quot;">​</a></h4><p>Remove a scroll sync group</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeScrollSyncGroup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(group_id: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>group_id</code></td><td><code>number</code></td><td>-</td></tr></tbody></table><h3 id="overlay-operations" tabindex="-1">Overlay Operations <a class="header-anchor" href="#overlay-operations" aria-label="Permalink to &quot;Overlay Operations&quot;">​</a></h3><h4 id="addoverlay" tabindex="-1"><code>addOverlay</code> <a class="header-anchor" href="#addoverlay" aria-label="Permalink to &quot;`addOverlay`&quot;">​</a></h4><p>Add a colored highlight overlay to text without modifying content Overlays are visual decorations that persist until explicitly removed. Add an overlay (visual decoration) to a buffer Use namespaces for easy batch removal (e.g., &quot;spell&quot;, &quot;todo&quot;). Multiple overlays can apply to the same range; colors blend.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addOverlay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, namespace: string, start: number, end: number, r: number, g: number, b: number, bg_r: i16, bg_g: i16, bg_b: i16, underline: boolean, bold: boolean, italic: boolean, extend_to_line_end: boolean): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>Target buffer ID</td></tr><tr><td><code>namespace</code></td><td><code>string</code></td><td>Optional namespace for grouping (use clearNamespace for batch removal)</td></tr><tr><td><code>start</code></td><td><code>number</code></td><td>Start byte offset</td></tr><tr><td><code>end</code></td><td><code>number</code></td><td>End byte offset</td></tr><tr><td><code>r</code></td><td><code>number</code></td><td>Red (0-255)</td></tr><tr><td><code>g</code></td><td><code>number</code></td><td>Green (0-255)</td></tr><tr><td><code>b</code></td><td><code>number</code></td><td>uffer_id - Target buffer ID</td></tr><tr><td><code>bg_r</code></td><td><code>i16</code></td><td>-</td></tr><tr><td><code>bg_g</code></td><td><code>i16</code></td><td>-</td></tr><tr><td><code>bg_b</code></td><td><code>i16</code></td><td>-</td></tr><tr><td><code>underline</code></td><td><code>boolean</code></td><td>Add underline decoration</td></tr><tr><td><code>bold</code></td><td><code>boolean</code></td><td>Use bold text</td></tr><tr><td><code>italic</code></td><td><code>boolean</code></td><td>Use italic text</td></tr><tr><td><code>extend_to_line_end</code></td><td><code>boolean</code></td><td>Extend background to end of visual line</td></tr></tbody></table><h4 id="removeoverlay" tabindex="-1"><code>removeOverlay</code> <a class="header-anchor" href="#removeoverlay" aria-label="Permalink to &quot;`removeOverlay`&quot;">​</a></h4><p>Remove a specific overlay by its handle</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeOverlay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, handle: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>The buffer ID</td></tr><tr><td><code>handle</code></td><td><code>string</code></td><td>The overlay handle to remove</td></tr></tbody></table><h4 id="clearoverlaysinrange" tabindex="-1"><code>clearOverlaysInRange</code> <a class="header-anchor" href="#clearoverlaysinrange" aria-label="Permalink to &quot;`clearOverlaysInRange`&quot;">​</a></h4><p>Clear all overlays that overlap with a byte range</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clearOverlaysInRange</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, start: number, end: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>The buffer ID</td></tr><tr><td><code>start</code></td><td><code>number</code></td><td>Start byte position (inclusive)</td></tr><tr><td><code>end</code></td><td><code>number</code></td><td>End byte position (exclusive)</td></tr></tbody></table><h4 id="clearalloverlays" tabindex="-1"><code>clearAllOverlays</code> <a class="header-anchor" href="#clearalloverlays" aria-label="Permalink to &quot;`clearAllOverlays`&quot;">​</a></h4><p>Remove all overlays from a buffer</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clearAllOverlays</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>The buffer ID</td></tr></tbody></table><h4 id="addvirtualtext" tabindex="-1"><code>addVirtualText</code> <a class="header-anchor" href="#addvirtualtext" aria-label="Permalink to &quot;`addVirtualText`&quot;">​</a></h4><p>Add virtual text (inline decoration) at a position</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addVirtualText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, virtual_text_id: string, position: number, text: string, r: number, g: number, b: number, before: boolean, use_bg: boolean): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>The buffer ID</td></tr><tr><td><code>virtual_text_id</code></td><td><code>string</code></td><td>Unique identifier for this virtual text</td></tr><tr><td><code>position</code></td><td><code>number</code></td><td>Byte position to insert at</td></tr><tr><td><code>text</code></td><td><code>string</code></td><td>The virtual text to display</td></tr><tr><td><code>r</code></td><td><code>number</code></td><td>Red color component (0-255)</td></tr><tr><td><code>g</code></td><td><code>number</code></td><td>Green color component (0-255)</td></tr><tr><td><code>b</code></td><td><code>number</code></td><td>uffer_id - The buffer ID</td></tr><tr><td><code>before</code></td><td><code>boolean</code></td><td>Whether to insert before (true) or after (false) the position</td></tr><tr><td><code>use_bg</code></td><td><code>boolean</code></td><td>Whether to use the color as background (true) or foreground (false)</td></tr></tbody></table><h4 id="removevirtualtext" tabindex="-1"><code>removeVirtualText</code> <a class="header-anchor" href="#removevirtualtext" aria-label="Permalink to &quot;`removeVirtualText`&quot;">​</a></h4><p>Remove virtual text by ID</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeVirtualText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, virtual_text_id: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>The buffer ID</td></tr><tr><td><code>virtual_text_id</code></td><td><code>string</code></td><td>The virtual text ID to remove</td></tr></tbody></table><h4 id="removevirtualtextsbyprefix" tabindex="-1"><code>removeVirtualTextsByPrefix</code> <a class="header-anchor" href="#removevirtualtextsbyprefix" aria-label="Permalink to &quot;`removeVirtualTextsByPrefix`&quot;">​</a></h4><p>Remove all virtual texts with IDs starting with a prefix</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeVirtualTextsByPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, prefix: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>The buffer ID</td></tr><tr><td><code>prefix</code></td><td><code>string</code></td><td>The prefix to match virtual text IDs against</td></tr></tbody></table><h4 id="clearvirtualtexts" tabindex="-1"><code>clearVirtualTexts</code> <a class="header-anchor" href="#clearvirtualtexts" aria-label="Permalink to &quot;`clearVirtualTexts`&quot;">​</a></h4><p>Remove all virtual texts from a buffer</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clearVirtualTexts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>The buffer ID</td></tr></tbody></table><h4 id="clearvirtualtextnamespace" tabindex="-1"><code>clearVirtualTextNamespace</code> <a class="header-anchor" href="#clearvirtualtextnamespace" aria-label="Permalink to &quot;`clearVirtualTextNamespace`&quot;">​</a></h4><p>Clear all virtual texts in a namespace</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clearVirtualTextNamespace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, namespace: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>The buffer ID</td></tr><tr><td><code>namespace</code></td><td><code>string</code></td><td>The namespace to clear (e.g., &quot;git-blame&quot;)</td></tr></tbody></table><h4 id="refreshlines" tabindex="-1"><code>refreshLines</code> <a class="header-anchor" href="#refreshlines" aria-label="Permalink to &quot;`refreshLines`&quot;">​</a></h4><p>Force a refresh of line display for a buffer</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">refreshLines</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>The buffer ID</td></tr></tbody></table><h3 id="file-system-operations" tabindex="-1">File System Operations <a class="header-anchor" href="#file-system-operations" aria-label="Permalink to &quot;File System Operations&quot;">​</a></h3><h4 id="readfile" tabindex="-1"><code>readFile</code> <a class="header-anchor" href="#readfile" aria-label="Permalink to &quot;`readFile`&quot;">​</a></h4><p>Read entire file contents as UTF-8 string Throws if file doesn&#39;t exist, isn&#39;t readable, or isn&#39;t valid UTF-8. For binary files, this will fail. For large files, consider memory usage.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path: string): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>path</code></td><td><code>string</code></td><td>File path (absolute or relative to cwd)</td></tr></tbody></table><h4 id="writefile" tabindex="-1"><code>writeFile</code> <a class="header-anchor" href="#writefile" aria-label="Permalink to &quot;`writeFile`&quot;">​</a></h4><p>Write string content to a file, creating or overwriting Creates parent directories if they don&#39;t exist (behavior may vary). Replaces file contents entirely; use readFile + modify + writeFile for edits.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path: string, content: string): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>path</code></td><td><code>string</code></td><td>Destination path (absolute or relative to cwd)</td></tr><tr><td><code>content</code></td><td><code>string</code></td><td>UTF-8 string to write</td></tr></tbody></table><h4 id="fileexists" tabindex="-1"><code>fileExists</code> <a class="header-anchor" href="#fileexists" aria-label="Permalink to &quot;`fileExists`&quot;">​</a></h4><p>Check if a path exists (file, directory, or symlink) Does not follow symlinks; returns true for broken symlinks. Use fileStat for more detailed information.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fileExists</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>path</code></td><td><code>string</code></td><td>Path to check (absolute or relative to cwd)</td></tr></tbody></table><h4 id="filestat-1" tabindex="-1"><code>fileStat</code> <a class="header-anchor" href="#filestat-1" aria-label="Permalink to &quot;`fileStat`&quot;">​</a></h4><p>Get metadata about a file or directory Follows symlinks. Returns exists=false for non-existent paths rather than throwing. Size is in bytes; directories may report 0.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fileStat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path: string): FileStat</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>path</code></td><td><code>string</code></td><td>Path to stat (absolute or relative to cwd)</td></tr></tbody></table><h4 id="readdir" tabindex="-1"><code>readDir</code> <a class="header-anchor" href="#readdir" aria-label="Permalink to &quot;`readDir`&quot;">​</a></h4><p>List directory contents Returns unsorted entries with type info. Entry names are relative to the directory (use pathJoin to construct full paths). Throws on permission errors or if path is not a directory. const entries = editor.readDir(&quot;/home/user&quot;); for (const e of entries) { const fullPath = editor.pathJoin(&quot;/home/user&quot;, e.name); }</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readDir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path: string): DirEntry[]</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>path</code></td><td><code>string</code></td><td>Directory path (absolute or relative to cwd)</td></tr></tbody></table><p><strong>Example:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> entries</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> editor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readDir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/home/user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> entries) {</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fullPath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> editor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pathJoin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/home/user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e.name);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="environment-operations" tabindex="-1">Environment Operations <a class="header-anchor" href="#environment-operations" aria-label="Permalink to &quot;Environment Operations&quot;">​</a></h3><h4 id="getenv" tabindex="-1"><code>getEnv</code> <a class="header-anchor" href="#getenv" aria-label="Permalink to &quot;`getEnv`&quot;">​</a></h4><p>Get an environment variable</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getEnv</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(name: string): string</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td><code>string</code></td><td>Name of environment variable</td></tr></tbody></table><h4 id="getcwd" tabindex="-1"><code>getCwd</code> <a class="header-anchor" href="#getcwd" aria-label="Permalink to &quot;`getCwd`&quot;">​</a></h4><p>Get the editor&#39;s current working directory Returns the editor&#39;s working directory (set when the editor was started). Use as base for resolving relative paths and spawning processes. Note: This returns the editor&#39;s stored working_dir, not process CWD, which is important for test isolation.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCwd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): string</span></span></code></pre></div><h3 id="path-operations" tabindex="-1">Path Operations <a class="header-anchor" href="#path-operations" aria-label="Permalink to &quot;Path Operations&quot;">​</a></h3><h4 id="pathjoin" tabindex="-1"><code>pathJoin</code> <a class="header-anchor" href="#pathjoin" aria-label="Permalink to &quot;`pathJoin`&quot;">​</a></h4><p>Join path segments using the OS path separator Handles empty segments and normalizes separators. If a segment is absolute, previous segments are discarded. pathJoin(&quot;/home&quot;, &quot;user&quot;, &quot;file.txt&quot;) // &quot;/home/user/file.txt&quot; pathJoin(&quot;relative&quot;, &quot;/absolute&quot;) // &quot;/absolute&quot;</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pathJoin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(parts: string[]): string</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>parts</code></td><td><code>string[]</code></td><td>Path segments to join</td></tr></tbody></table><p><strong>Example:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pathJoin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/home&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;file.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;/home/user/file.txt&quot;</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pathJoin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;relative&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/absolute&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;/absolute&quot;</span></span></code></pre></div><h4 id="pathdirname" tabindex="-1"><code>pathDirname</code> <a class="header-anchor" href="#pathdirname" aria-label="Permalink to &quot;`pathDirname`&quot;">​</a></h4><p>Get the parent directory of a path Returns empty string for root paths or paths without parent. Does not resolve symlinks or check existence. pathDirname(&quot;/home/user/file.txt&quot;) // &quot;/home/user&quot; pathDirname(&quot;/&quot;) // &quot;&quot;</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pathDirname</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path: string): string</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>path</code></td><td><code>string</code></td><td>File or directory path</td></tr></tbody></table><p><strong>Example:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pathDirname</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/home/user/file.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;/home/user&quot;</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pathDirname</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;&quot;</span></span></code></pre></div><h4 id="pathbasename" tabindex="-1"><code>pathBasename</code> <a class="header-anchor" href="#pathbasename" aria-label="Permalink to &quot;`pathBasename`&quot;">​</a></h4><p>Get the final component of a path Returns empty string for root paths. Does not strip file extension; use pathExtname for that. pathBasename(&quot;/home/user/file.txt&quot;) // &quot;file.txt&quot; pathBasename(&quot;/home/user/&quot;) // &quot;user&quot;</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pathBasename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path: string): string</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>path</code></td><td><code>string</code></td><td>File or directory path</td></tr></tbody></table><p><strong>Example:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pathBasename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/home/user/file.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;file.txt&quot;</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pathBasename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/home/user/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;user&quot;</span></span></code></pre></div><h4 id="pathextname" tabindex="-1"><code>pathExtname</code> <a class="header-anchor" href="#pathextname" aria-label="Permalink to &quot;`pathExtname`&quot;">​</a></h4><p>Get the file extension including the dot Returns empty string if no extension. Only returns the last extension for files like &quot;archive.tar.gz&quot; (returns &quot;.gz&quot;). pathExtname(&quot;file.txt&quot;) // &quot;.txt&quot; pathExtname(&quot;archive.tar.gz&quot;) // &quot;.gz&quot; pathExtname(&quot;Makefile&quot;) // &quot;&quot;</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pathExtname</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path: string): string</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>path</code></td><td><code>string</code></td><td>File path</td></tr></tbody></table><p><strong>Example:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pathExtname</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;file.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;.txt&quot;</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pathExtname</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;archive.tar.gz&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;.gz&quot;</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pathExtname</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Makefile&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;&quot;</span></span></code></pre></div><h4 id="pathisabsolute" tabindex="-1"><code>pathIsAbsolute</code> <a class="header-anchor" href="#pathisabsolute" aria-label="Permalink to &quot;`pathIsAbsolute`&quot;">​</a></h4><p>Check if a path is absolute On Unix: starts with &quot;/&quot;. On Windows: starts with drive letter or UNC path.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pathIsAbsolute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>path</code></td><td><code>string</code></td><td>Path to check</td></tr></tbody></table><h3 id="event-hook-operations" tabindex="-1">Event/Hook Operations <a class="header-anchor" href="#event-hook-operations" aria-label="Permalink to &quot;Event/Hook Operations&quot;">​</a></h3><h4 id="on" tabindex="-1"><code>on</code> <a class="header-anchor" href="#on" aria-label="Permalink to &quot;`on`&quot;">​</a></h4><p>Subscribe to an editor event Handler must be a global function name (not a closure). Multiple handlers can be registered for the same event. Events: &quot;buffer_save&quot;, &quot;cursor_moved&quot;, &quot;buffer_modified&quot;, etc. globalThis.onSave = (data) =&gt; { editor.setStatus(<code>Saved: ${data.path}</code>); }; editor.on(&quot;buffer_save&quot;, &quot;onSave&quot;);</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(event_name: string, handler_name: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>event_name</code></td><td><code>string</code></td><td>Event to subscribe to</td></tr><tr><td><code>handler_name</code></td><td><code>string</code></td><td>Name of globalThis function to call with event data</td></tr></tbody></table><p><strong>Example:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">globalThis.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onSave</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">editor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setStatus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`Saved: ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">path</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">editor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;buffer_save&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;onSave&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h4 id="off" tabindex="-1"><code>off</code> <a class="header-anchor" href="#off" aria-label="Permalink to &quot;`off`&quot;">​</a></h4><p>Unregister an event handler</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">off</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(event_name: string, handler_name: string): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>event_name</code></td><td><code>string</code></td><td>Name of the event</td></tr><tr><td><code>handler_name</code></td><td><code>string</code></td><td>Name of the handler to remove</td></tr></tbody></table><h4 id="gethandlers" tabindex="-1"><code>getHandlers</code> <a class="header-anchor" href="#gethandlers" aria-label="Permalink to &quot;`getHandlers`&quot;">​</a></h4><p>Get list of registered handlers for an event</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getHandlers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(event_name: string): string[]</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>event_name</code></td><td><code>string</code></td><td>Name of the event</td></tr></tbody></table><h3 id="virtual-buffer-operations" tabindex="-1">Virtual Buffer Operations <a class="header-anchor" href="#virtual-buffer-operations" aria-label="Permalink to &quot;Virtual Buffer Operations&quot;">​</a></h3><h4 id="createvirtualbufferinsplit" tabindex="-1"><code>createVirtualBufferInSplit</code> <a class="header-anchor" href="#createvirtualbufferinsplit" aria-label="Permalink to &quot;`createVirtualBufferInSplit`&quot;">​</a></h4><p>Create a virtual buffer in a new horizontal split below current pane Use for results panels, diagnostics, logs, etc. The panel_id enables idempotent updates: if a panel with that ID exists, its content is replaced instead of creating a new split. Define the mode with defineMode first. // First define the mode with keybindings editor.defineMode(&quot;search-results&quot;, &quot;special&quot;, [ [&quot;Return&quot;, &quot;search_goto&quot;], [&quot;q&quot;, &quot;close_buffer&quot;] ], true); // Then create the buffer const id = await editor.createVirtualBufferInSplit({ name: &quot;<em>Search</em>&quot;, mode: &quot;search-results&quot;, read_only: true, entries: [ { text: &quot;src/main.rs:42: match\\n&quot;, properties: { file: &quot;src/main.rs&quot;, line: 42 } } ], ratio: 0.3, panel_id: &quot;search&quot; });</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createVirtualBufferInSplit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(options: CreateVirtualBufferOptions): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CreateVirtualBufferResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>options</code></td><td><code>CreateVirtualBufferOptions</code></td><td>Buffer configuration</td></tr></tbody></table><p><strong>Example:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// First define the mode with keybindings</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">editor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defineMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;search-results&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;special&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Return&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;search_goto&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;q&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;close_buffer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Then create the buffer</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> editor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createVirtualBufferInSplit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*Search*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mode: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;search-results&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">read_only: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">entries: [</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ text: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;src/main.rs:42: match</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, properties: { file: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;src/main.rs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, line: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">42</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } }</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ratio: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">panel_id: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;search&quot;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h4 id="createvirtualbufferinexistingsplit" tabindex="-1"><code>createVirtualBufferInExistingSplit</code> <a class="header-anchor" href="#createvirtualbufferinexistingsplit" aria-label="Permalink to &quot;`createVirtualBufferInExistingSplit`&quot;">​</a></h4><p>Create a virtual buffer in an existing split</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createVirtualBufferInExistingSplit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(options: CreateVirtualBufferInExistingSplitOptions): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">number</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>options</code></td><td><code>CreateVirtualBufferInExistingSplitOptions</code></td><td>Configuration for the virtual buffer</td></tr></tbody></table><h4 id="createvirtualbuffer" tabindex="-1"><code>createVirtualBuffer</code> <a class="header-anchor" href="#createvirtualbuffer" aria-label="Permalink to &quot;`createVirtualBuffer`&quot;">​</a></h4><p>Create a virtual buffer in the current split as a new tab This is useful for help panels, documentation, etc. that should open alongside other buffers rather than in a separate split.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createVirtualBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(options: CreateVirtualBufferInCurrentSplitOptions): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">number</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>options</code></td><td><code>CreateVirtualBufferInCurrentSplitOptions</code></td><td>Configuration for the virtual buffer</td></tr></tbody></table><h4 id="definemode" tabindex="-1"><code>defineMode</code> <a class="header-anchor" href="#definemode" aria-label="Permalink to &quot;`defineMode`&quot;">​</a></h4><p>Define a buffer mode with keybindings editor.defineMode(&quot;diagnostics-list&quot;, &quot;special&quot;, [ [&quot;Return&quot;, &quot;diagnostics_goto&quot;], [&quot;q&quot;, &quot;close_buffer&quot;] ], true);</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defineMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(name: string, parent: string, bindings: Vec</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String, String): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td><code>string</code></td><td>Mode name (e.g., &quot;diagnostics-list&quot;)</td></tr><tr><td><code>parent</code></td><td><code>string</code></td><td>Parent mode name for inheritance (e.g., &quot;special&quot;), or null</td></tr><tr><td><code>bindings</code></td><td><code>Vec&lt;(String, String</code></td><td>Array of [key_string, command_name] pairs</td></tr></tbody></table><p><strong>Example:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">editor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defineMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;diagnostics-list&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;special&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Return&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;diagnostics_goto&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;q&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;close_buffer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h4 id="showbuffer" tabindex="-1"><code>showBuffer</code> <a class="header-anchor" href="#showbuffer" aria-label="Permalink to &quot;`showBuffer`&quot;">​</a></h4><p>Switch the current split to display a buffer</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">showBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>ID of the buffer to show</td></tr></tbody></table><h4 id="closebuffer" tabindex="-1"><code>closeBuffer</code> <a class="header-anchor" href="#closebuffer" aria-label="Permalink to &quot;`closeBuffer`&quot;">​</a></h4><p>Close a buffer and remove it from all splits</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">closeBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>ID of the buffer to close</td></tr></tbody></table><h4 id="focussplit" tabindex="-1"><code>focusSplit</code> <a class="header-anchor" href="#focussplit" aria-label="Permalink to &quot;`focusSplit`&quot;">​</a></h4><p>Focus a specific split</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">focusSplit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(split_id: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>split_id</code></td><td><code>number</code></td><td>ID of the split to focus</td></tr></tbody></table><h4 id="setsplitbuffer" tabindex="-1"><code>setSplitBuffer</code> <a class="header-anchor" href="#setsplitbuffer" aria-label="Permalink to &quot;`setSplitBuffer`&quot;">​</a></h4><p>Set the buffer displayed in a specific split</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setSplitBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(split_id: number, buffer_id: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>split_id</code></td><td><code>number</code></td><td>ID of the split</td></tr><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>ID of the buffer to display in the split</td></tr></tbody></table><h4 id="closesplit" tabindex="-1"><code>closeSplit</code> <a class="header-anchor" href="#closesplit" aria-label="Permalink to &quot;`closeSplit`&quot;">​</a></h4><p>Close a split (if not the last one)</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">closeSplit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(split_id: number): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>split_id</code></td><td><code>number</code></td><td>ID of the split to close</td></tr></tbody></table><h4 id="gettextpropertiesatcursor" tabindex="-1"><code>getTextPropertiesAtCursor</code> <a class="header-anchor" href="#gettextpropertiesatcursor" aria-label="Permalink to &quot;`getTextPropertiesAtCursor`&quot;">​</a></h4><p>Get text properties at the cursor position in a buffer const props = editor.getTextPropertiesAtCursor(bufferId); if (props.length &gt; 0 &amp;&amp; props[0].location) { editor.openFile(props[0].location.file, props[0].location.line, 0); }</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getTextPropertiesAtCursor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number): Record</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string, unknown</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>ID of the buffer to query</td></tr></tbody></table><p><strong>Example:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> editor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getTextPropertiesAtCursor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferId);</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (props.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> props[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].location) {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">editor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(props[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].location.file, props[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].location.line, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="setvirtualbuffercontent" tabindex="-1"><code>setVirtualBufferContent</code> <a class="header-anchor" href="#setvirtualbuffercontent" aria-label="Permalink to &quot;`setVirtualBufferContent`&quot;">​</a></h4><p>Set the content of a virtual buffer with text properties</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setVirtualBufferContent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer_id: number, entries: TextPropertyEntry[]): boolean</span></span></code></pre></div><p><strong>Parameters:</strong></p><table tabindex="0"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buffer_id</code></td><td><code>number</code></td><td>ID of the virtual buffer</td></tr><tr><td><code>entries</code></td><td><code>TextPropertyEntry[]</code></td><td>Array of text entries with properties</td></tr></tbody></table>',647)])])}const g=s(n,[["render",d]]);export{k as __pageData,g as default};
