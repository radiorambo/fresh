import{_ as i,c as e,o as t,ag as a}from"./chunks/framework.CffQSbY-.js";const c=JSON.parse('{"title":"Theme System Usability Improvements","description":"","frontmatter":{},"headers":[],"relativePath":"internal/theme-usability-improvements.md","filePath":"internal/theme-usability-improvements.md","lastUpdated":1767613501000}'),n={name:"internal/theme-usability-improvements.md"};function o(r,s,l,h,d,p){return t(),e("div",null,[...s[0]||(s[0]=[a(`<h1 id="theme-system-usability-improvements" tabindex="-1">Theme System Usability Improvements <a class="header-anchor" href="#theme-system-usability-improvements" aria-label="Permalink to &quot;Theme System Usability Improvements&quot;">​</a></h1><p>Analysis based on Nielsen Norman Group best practices and hands-on testing.</p><h2 id="testing-summary" tabindex="-1">Testing Summary <a class="header-anchor" href="#testing-summary" aria-label="Permalink to &quot;Testing Summary&quot;">​</a></h2><p>Both manual theme creation (Flow 3) and the interactive Theme Editor (Flow 2) were tested and verified to work. Several usability issues were identified during testing.</p><hr><h2 id="_1-visibility-of-system-status" tabindex="-1">1. Visibility of System Status <a class="header-anchor" href="#_1-visibility-of-system-status" aria-label="Permalink to &quot;1. Visibility of System Status&quot;">​</a></h2><h3 id="_1-1-localization-placeholders-not-interpolated" tabindex="-1">1.1 Localization placeholders not interpolated <a class="header-anchor" href="#_1-1-localization-placeholders-not-interpolated" aria-label="Permalink to &quot;1.1 Localization placeholders not interpolated&quot;">​</a></h3><p><strong>Severity:</strong> Critical <strong>Observed:</strong> Title shows <code>{name}</code> and status shows <code>Updated {path}</code> instead of actual values <strong>Impact:</strong> Users can&#39;t see what theme they&#39;re editing or where it&#39;s saved <strong>Fix:</strong> Ensure <code>editor.t()</code> properly interpolates <code>{name}</code>, <code>{path}</code>, <code>{theme}</code>, <code>{error}</code> placeholders <strong>Location:</strong> <code>plugins/theme_editor.ts</code> - calls to <code>editor.t()</code></p><h3 id="_1-2-no-visual-indicator-for-selected-field" tabindex="-1">1.2 No visual indicator for selected field <a class="header-anchor" href="#_1-2-no-visual-indicator-for-selected-field" aria-label="Permalink to &quot;1.2 No visual indicator for selected field&quot;">​</a></h3><p><strong>Severity:</strong> High <strong>Observed:</strong> When navigating, there&#39;s no highlight showing which field is currently selected <strong>Impact:</strong> Users can&#39;t tell which field will be edited when pressing Enter <strong>Fix:</strong> Add background highlight or cursor indicator on the active field row <strong>Location:</strong> <code>plugins/theme_editor.ts:739</code> - <code>applyHighlighting()</code></p><h3 id="_1-3-no-live-preview-when-editing-colors" tabindex="-1">1.3 No live preview when editing colors <a class="header-anchor" href="#_1-3-no-live-preview-when-editing-colors" aria-label="Permalink to &quot;1.3 No live preview when editing colors&quot;">​</a></h3><p><strong>Severity:</strong> Medium <strong>Observed:</strong> Color changes only visible after saving and applying theme <strong>Impact:</strong> Users must save/apply to see results, slowing iteration <strong>Fix:</strong> Add real-time preview panel or apply changes temporarily while editing</p><h3 id="_1-4-theme-selector-doesn-t-show-theme-previews" tabindex="-1">1.4 Theme selector doesn&#39;t show theme previews <a class="header-anchor" href="#_1-4-theme-selector-doesn-t-show-theme-previews" aria-label="Permalink to &quot;1.4 Theme selector doesn&#39;t show theme previews&quot;">​</a></h3><p><strong>Severity:</strong> Medium <strong>Observed:</strong> Theme list only shows names, not what they look like <strong>Impact:</strong> Users must try each theme to see it <strong>Fix:</strong> Add color swatches or mini-preview next to each theme name in selector</p><hr><h2 id="_2-match-between-system-and-real-world" tabindex="-1">2. Match Between System and Real World <a class="header-anchor" href="#_2-match-between-system-and-real-world" aria-label="Permalink to &quot;2. Match Between System and Real World&quot;">​</a></h2><h3 id="_2-1-built-in-json-themes-not-discoverable" tabindex="-1">2.1 Built-in JSON themes not discoverable <a class="header-anchor" href="#_2-1-built-in-json-themes-not-discoverable" aria-label="Permalink to &quot;2.1 Built-in JSON themes not discoverable&quot;">​</a></h3><p><strong>Severity:</strong> Critical <strong>Observed:</strong> <code>themes/</code> directory has nord.json, dracula.json, solarized-dark.json but they don&#39;t appear in theme selector <strong>Impact:</strong> Users can&#39;t use these popular themes; creates confusion about what&#39;s available <strong>Fix:</strong> Scan both <code>themes/</code> directory and user themes directory in <code>available_themes()</code><strong>Location:</strong> <code>src/view/theme.rs:1057-1085</code></p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Current: only scans user themes</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Fix: also scan themes/ directory in the project</span></span></code></pre></div><h3 id="_2-2-inconsistent-naming-conventions" tabindex="-1">2.2 Inconsistent naming conventions <a class="header-anchor" href="#_2-2-inconsistent-naming-conventions" aria-label="Permalink to &quot;2.2 Inconsistent naming conventions&quot;">​</a></h3><p><strong>Severity:</strong> Low <strong>Observed:</strong> Hardcoded themes use hyphens (high-contrast), but underscore/hyphen normalization exists <strong>Impact:</strong> Potential confusion about valid theme names <strong>Fix:</strong> Document naming convention; auto-normalize on save</p><h3 id="_2-3-custom-as-default-name-is-unclear" tabindex="-1">2.3 &quot;Custom&quot; as default name is unclear <a class="header-anchor" href="#_2-3-custom-as-default-name-is-unclear" aria-label="Permalink to &quot;2.3 &quot;Custom&quot; as default name is unclear&quot;">​</a></h3><p><strong>Severity:</strong> Low <strong>Observed:</strong> New themes start with name &quot;custom&quot; which is generic <strong>Impact:</strong> Users might accidentally overwrite or create poorly named themes <strong>Fix:</strong> Generate unique default names like &quot;custom-1&quot;, &quot;custom-2&quot; or prompt for name first</p><hr><h2 id="_3-user-control-and-freedom" tabindex="-1">3. User Control and Freedom <a class="header-anchor" href="#_3-user-control-and-freedom" aria-label="Permalink to &quot;3. User Control and Freedom&quot;">​</a></h2><h3 id="_3-1-no-confirmation-before-discarding-unsaved-changes" tabindex="-1">3.1 No confirmation before discarding unsaved changes <a class="header-anchor" href="#_3-1-no-confirmation-before-discarding-unsaved-changes" aria-label="Permalink to &quot;3.1 No confirmation before discarding unsaved changes&quot;">​</a></h3><p><strong>Severity:</strong> High <strong>Observed:</strong> Pressing &#39;q&#39; immediately discards changes with only a status message <strong>Impact:</strong> Accidental data loss <strong>Fix:</strong> Show confirmation dialog: &quot;Discard unsaved changes? [y/n]&quot; <strong>Location:</strong> <code>plugins/theme_editor.ts:1237</code> - <code>theme_editor_close()</code></p><h3 id="_3-2-no-undo-for-color-changes" tabindex="-1">3.2 No undo for color changes <a class="header-anchor" href="#_3-2-no-undo-for-color-changes" aria-label="Permalink to &quot;3.2 No undo for color changes&quot;">​</a></h3><p><strong>Severity:</strong> Medium <strong>Observed:</strong> After editing a color, there&#39;s no way to revert to previous value <strong>Impact:</strong> Users must remember original values or restart <strong>Fix:</strong> Add undo command (Ctrl+Z) or &quot;Reset field&quot; option</p><h3 id="_3-3-can-t-edit-existing-user-themes" tabindex="-1">3.3 Can&#39;t edit existing user themes <a class="header-anchor" href="#_3-3-can-t-edit-existing-user-themes" aria-label="Permalink to &quot;3.3 Can&#39;t edit existing user themes&quot;">​</a></h3><p><strong>Severity:</strong> High <strong>Observed:</strong> Theme Editor always starts with default/empty theme, not current theme <strong>Impact:</strong> To modify an existing theme, users must copy it first <strong>Fix:</strong> Add option to &quot;Edit Current Theme&quot; or select theme to edit when opening <strong>Location:</strong> <code>plugins/theme_editor.ts:1184</code> - <code>open_theme_editor()</code></p><h3 id="_3-4-no-way-to-delete-user-themes" tabindex="-1">3.4 No way to delete user themes <a class="header-anchor" href="#_3-4-no-way-to-delete-user-themes" aria-label="Permalink to &quot;3.4 No way to delete user themes&quot;">​</a></h3><p><strong>Severity:</strong> Medium <strong>Observed:</strong> No command to remove custom themes <strong>Impact:</strong> Users must manually delete files <strong>Fix:</strong> Add &quot;Delete Theme&quot; command with confirmation</p><hr><h2 id="_4-consistency-and-standards" tabindex="-1">4. Consistency and Standards <a class="header-anchor" href="#_4-consistency-and-standards" aria-label="Permalink to &quot;4. Consistency and Standards&quot;">​</a></h2><h3 id="_4-1-inconsistent-navigation-behavior" tabindex="-1">4.1 Inconsistent navigation behavior <a class="header-anchor" href="#_4-1-inconsistent-navigation-behavior" aria-label="Permalink to &quot;4.1 Inconsistent navigation behavior&quot;">​</a></h3><p><strong>Severity:</strong> High <strong>Observed:</strong> Arrow keys move line-by-line including comment/description lines, but Enter only works on field lines <strong>Impact:</strong> Confusing - navigation and selection behave differently <strong>Fix Options:</strong></p><ul><li>A: Skip non-selectable lines when navigating</li><li>B: Show clear visual distinction for selectable vs non-selectable lines</li></ul><h3 id="_4-2-mixed-keyboard-conventions" tabindex="-1">4.2 Mixed keyboard conventions <a class="header-anchor" href="#_4-2-mixed-keyboard-conventions" aria-label="Permalink to &quot;4.2 Mixed keyboard conventions&quot;">​</a></h3><p><strong>Severity:</strong> Medium <strong>Observed:</strong> Uses both single-key shortcuts (c, n, s) and standard shortcuts (Enter, Tab) <strong>Impact:</strong> Learning curve; conflicts with text editing mental models <strong>Fix:</strong> Consider using Ctrl+key combinations for actions (Ctrl+S for save) to match editor conventions</p><h3 id="_4-3-help-information-in-multiple-places" tabindex="-1">4.3 Help information in multiple places <a class="header-anchor" href="#_4-3-help-information-in-multiple-places" aria-label="Permalink to &quot;4.3 Help information in multiple places&quot;">​</a></h3><p><strong>Severity:</strong> Low <strong>Observed:</strong> Hints shown in: status bar, footer panel, and <code>?</code> command <strong>Impact:</strong> Information scattered, may miss features <strong>Fix:</strong> Consolidate help; make <code>?</code> the primary help with comprehensive info</p><hr><h2 id="_5-error-prevention" tabindex="-1">5. Error Prevention <a class="header-anchor" href="#_5-error-prevention" aria-label="Permalink to &quot;5. Error Prevention&quot;">​</a></h2><h3 id="_5-1-no-validation-before-save" tabindex="-1">5.1 No validation before save <a class="header-anchor" href="#_5-1-no-validation-before-save" aria-label="Permalink to &quot;5.1 No validation before save&quot;">​</a></h3><p><strong>Severity:</strong> Medium <strong>Observed:</strong> Can save themes with invalid/incomplete data <strong>Impact:</strong> Broken theme files <strong>Fix:</strong> Validate all required fields before saving; highlight missing/invalid fields</p><h3 id="_5-2-theme-name-collision-not-handled-gracefully" tabindex="-1">5.2 Theme name collision not handled gracefully <a class="header-anchor" href="#_5-2-theme-name-collision-not-handled-gracefully" aria-label="Permalink to &quot;5.2 Theme name collision not handled gracefully&quot;">​</a></h3><p><strong>Severity:</strong> Medium <strong>Observed:</strong> Saving with same name as existing theme overwrites without warning <strong>Impact:</strong> Accidental overwrite of themes <strong>Fix:</strong> Warn when name matches existing theme; offer &quot;Overwrite&quot; or &quot;Rename&quot;</p><h3 id="_5-3-no-guidance-on-color-accessibility" tabindex="-1">5.3 No guidance on color accessibility <a class="header-anchor" href="#_5-3-no-guidance-on-color-accessibility" aria-label="Permalink to &quot;5.3 No guidance on color accessibility&quot;">​</a></h3><p><strong>Severity:</strong> Low <strong>Observed:</strong> Users can set any colors, including low-contrast combinations <strong>Impact:</strong> May create unusable/inaccessible themes <strong>Fix:</strong> Add contrast ratio indicator; warn for WCAG violations (&lt; 4.5:1)</p><hr><h2 id="_6-recognition-rather-than-recall" tabindex="-1">6. Recognition Rather Than Recall <a class="header-anchor" href="#_6-recognition-rather-than-recall" aria-label="Permalink to &quot;6. Recognition Rather Than Recall&quot;">​</a></h2><h3 id="_6-1-color-field-descriptions-only-visible-on-hover-selection" tabindex="-1">6.1 Color field descriptions only visible on hover/selection <a class="header-anchor" href="#_6-1-color-field-descriptions-only-visible-on-hover-selection" aria-label="Permalink to &quot;6.1 Color field descriptions only visible on hover/selection&quot;">​</a></h3><p><strong>Severity:</strong> Medium <strong>Observed:</strong> Must navigate to each field to see what it affects <strong>Impact:</strong> Hard to find the right field to modify <strong>Fix:</strong> Keep descriptions always visible, or add &quot;search fields&quot; functionality</p><h3 id="_6-2-no-visual-mapping-between-fields-and-editor-regions" tabindex="-1">6.2 No visual mapping between fields and editor regions <a class="header-anchor" href="#_6-2-no-visual-mapping-between-fields-and-editor-regions" aria-label="Permalink to &quot;6.2 No visual mapping between fields and editor regions&quot;">​</a></h3><p><strong>Severity:</strong> Medium <strong>Observed:</strong> Field names like &quot;popup_border_fg&quot; require understanding the UI <strong>Impact:</strong> Users must guess which field affects which part of the UI <strong>Fix:</strong> Add interactive mode: click on UI element to jump to its color field</p><h3 id="_6-3-named-colors-list-not-visible-during-editing" tabindex="-1">6.3 Named colors list not visible during editing <a class="header-anchor" href="#_6-3-named-colors-list-not-visible-during-editing" aria-label="Permalink to &quot;6.3 Named colors list not visible during editing&quot;">​</a></h3><p><strong>Severity:</strong> Low <strong>Observed:</strong> Users must know color names or use hex values <strong>Impact:</strong> Discovery of available named colors is difficult <strong>Fix:</strong> Show named color palette picker, not just text suggestions</p><hr><h2 id="_7-flexibility-and-efficiency-of-use" tabindex="-1">7. Flexibility and Efficiency of Use <a class="header-anchor" href="#_7-flexibility-and-efficiency-of-use" aria-label="Permalink to &quot;7. Flexibility and Efficiency of Use&quot;">​</a></h2><h3 id="_7-1-no-keyboard-shortcut-to-open-theme-editor" tabindex="-1">7.1 No keyboard shortcut to open theme editor <a class="header-anchor" href="#_7-1-no-keyboard-shortcut-to-open-theme-editor" aria-label="Permalink to &quot;7.1 No keyboard shortcut to open theme editor&quot;">​</a></h3><p><strong>Severity:</strong> Low <strong>Observed:</strong> Must use command palette to access <strong>Impact:</strong> Slower access for frequent users <strong>Fix:</strong> Add configurable keybinding in default keymap</p><h3 id="_7-2-no-batch-operations" tabindex="-1">7.2 No batch operations <a class="header-anchor" href="#_7-2-no-batch-operations" aria-label="Permalink to &quot;7.2 No batch operations&quot;">​</a></h3><p><strong>Severity:</strong> Low <strong>Observed:</strong> Must edit colors one at a time <strong>Impact:</strong> Tedious for comprehensive theme changes <strong>Fix:</strong> Add &quot;Apply to all similar&quot; (e.g., all backgrounds) or &quot;Adjust brightness/saturation&quot;</p><h3 id="_7-3-no-import-export-beyond-json-files" tabindex="-1">7.3 No import/export beyond JSON files <a class="header-anchor" href="#_7-3-no-import-export-beyond-json-files" aria-label="Permalink to &quot;7.3 No import/export beyond JSON files&quot;">​</a></h3><p><strong>Severity:</strong> Low <strong>Observed:</strong> Only native JSON format supported <strong>Impact:</strong> Can&#39;t import from other editors or share in other formats <strong>Fix:</strong> Support importing from VS Code themes, base16, etc.</p><h3 id="_7-4-copy-from-builtin-requires-knowing-theme-names" tabindex="-1">7.4 Copy from builtin requires knowing theme names <a class="header-anchor" href="#_7-4-copy-from-builtin-requires-knowing-theme-names" aria-label="Permalink to &quot;7.4 Copy from builtin requires knowing theme names&quot;">​</a></h3><p><strong>Severity:</strong> Low <strong>Observed:</strong> Copy dialog shows theme names but no preview <strong>Impact:</strong> Hard to choose base theme <strong>Fix:</strong> Show preview of each builtin theme when copying</p><hr><h2 id="_8-aesthetic-and-minimalist-design" tabindex="-1">8. Aesthetic and Minimalist Design <a class="header-anchor" href="#_8-aesthetic-and-minimalist-design" aria-label="Permalink to &quot;8. Aesthetic and Minimalist Design&quot;">​</a></h2><h3 id="_8-1-verbose-field-display-with-redundant-whitespace" tabindex="-1">8.1 Verbose field display with redundant whitespace <a class="header-anchor" href="#_8-1-verbose-field-display-with-redundant-whitespace" aria-label="Permalink to &quot;8.1 Verbose field display with redundant whitespace&quot;">​</a></h3><p><strong>Severity:</strong> Low <strong>Observed:</strong> Each field has comment line + field line + blank line = 3 lines per field <strong>Impact:</strong> Low information density; excessive scrolling <strong>Fix:</strong> Option to show compact view (field: value on single line, tooltip for description)</p><h3 id="_8-2-section-expand-collapse-state-not-persisted" tabindex="-1">8.2 Section expand/collapse state not persisted <a class="header-anchor" href="#_8-2-section-expand-collapse-state-not-persisted" aria-label="Permalink to &quot;8.2 Section expand/collapse state not persisted&quot;">​</a></h3><p><strong>Severity:</strong> Low <strong>Observed:</strong> Sections reset to default expansion on reopen <strong>Impact:</strong> Users must re-collapse sections they don&#39;t need each time <strong>Fix:</strong> Remember expansion state in config</p><hr><h2 id="_9-help-users-recognize-diagnose-and-recover-from-errors" tabindex="-1">9. Help Users Recognize, Diagnose, and Recover from Errors <a class="header-anchor" href="#_9-help-users-recognize-diagnose-and-recover-from-errors" aria-label="Permalink to &quot;9. Help Users Recognize, Diagnose, and Recover from Errors&quot;">​</a></h2><h3 id="_9-1-generic-error-messages" tabindex="-1">9.1 Generic error messages <a class="header-anchor" href="#_9-1-generic-error-messages" aria-label="Permalink to &quot;9.1 Generic error messages&quot;">​</a></h3><p><strong>Severity:</strong> Medium <strong>Observed:</strong> &quot;Invalid color format&quot; without showing what was entered <strong>Impact:</strong> Hard to understand what went wrong <strong>Fix:</strong> Show specific error: &quot;Invalid color &#39;#GGG&#39;: hex values must be 0-9 or A-F&quot; <strong>Location:</strong> <code>plugins/theme_editor.ts:860</code> - <code>parseColorInput()</code></p><h3 id="_9-2-no-error-recovery-for-corrupted-theme-files" tabindex="-1">9.2 No error recovery for corrupted theme files <a class="header-anchor" href="#_9-2-no-error-recovery-for-corrupted-theme-files" aria-label="Permalink to &quot;9.2 No error recovery for corrupted theme files&quot;">​</a></h3><p><strong>Severity:</strong> Medium <strong>Observed:</strong> If theme JSON is malformed, unclear what happens <strong>Impact:</strong> Users may lose work <strong>Fix:</strong> Show specific JSON parse error with line number; offer to open in editor</p><hr><h2 id="_10-help-and-documentation" tabindex="-1">10. Help and Documentation <a class="header-anchor" href="#_10-help-and-documentation" aria-label="Permalink to &quot;10. Help and Documentation&quot;">​</a></h2><h3 id="_10-1-no-in-app-tutorial-or-onboarding" tabindex="-1">10.1 No in-app tutorial or onboarding <a class="header-anchor" href="#_10-1-no-in-app-tutorial-or-onboarding" aria-label="Permalink to &quot;10.1 No in-app tutorial or onboarding&quot;">​</a></h3><p><strong>Severity:</strong> Low <strong>Observed:</strong> Users must discover features through trial and error <strong>Impact:</strong> Steep learning curve <strong>Fix:</strong> Add first-run tooltip tour or &quot;Getting Started&quot; popup</p><h3 id="_10-2-no-documentation-on-theme-file-format" tabindex="-1">10.2 No documentation on theme file format <a class="header-anchor" href="#_10-2-no-documentation-on-theme-file-format" aria-label="Permalink to &quot;10.2 No documentation on theme file format&quot;">​</a></h3><p><strong>Severity:</strong> Low <strong>Observed:</strong> Users creating manual JSON must examine existing files <strong>Impact:</strong> Barrier to advanced customization <strong>Fix:</strong> Add &quot;Export as documented template&quot; or link to docs from editor</p><h3 id="_10-3-help-is-text-only" tabindex="-1">10.3 <code>?</code> help is text-only <a class="header-anchor" href="#_10-3-help-is-text-only" aria-label="Permalink to &quot;10.3 \`?\` help is text-only&quot;">​</a></h3><p><strong>Severity:</strong> Low <strong>Observed:</strong> Help shows keyboard shortcuts but no explanations <strong>Impact:</strong> Users know keys but not capabilities <strong>Fix:</strong> Show richer help panel with examples and descriptions</p><hr><h2 id="priority-matrix" tabindex="-1">Priority Matrix <a class="header-anchor" href="#priority-matrix" aria-label="Permalink to &quot;Priority Matrix&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Priority</th><th>Issue</th><th>Impact</th><th>Effort</th></tr></thead><tbody><tr><td><strong>P0 - Critical</strong></td><td>1.1 Localization placeholders</td><td>High</td><td>Low</td></tr><tr><td><strong>P0 - Critical</strong></td><td>2.1 Built-in JSON themes missing</td><td>High</td><td>Low</td></tr><tr><td><strong>P1 - High</strong></td><td>1.2 No visual field selection</td><td>High</td><td>Medium</td></tr><tr><td><strong>P1 - High</strong></td><td>3.1 No discard confirmation</td><td>High</td><td>Low</td></tr><tr><td><strong>P1 - High</strong></td><td>3.3 Can&#39;t edit existing themes</td><td>High</td><td>Medium</td></tr><tr><td><strong>P1 - High</strong></td><td>4.1 Inconsistent navigation</td><td>Medium</td><td>Medium</td></tr><tr><td><strong>P2 - Medium</strong></td><td>1.3 No live preview</td><td>Medium</td><td>High</td></tr><tr><td><strong>P2 - Medium</strong></td><td>3.2 No undo</td><td>Medium</td><td>Medium</td></tr><tr><td><strong>P2 - Medium</strong></td><td>5.2 Theme name collision</td><td>Medium</td><td>Low</td></tr><tr><td><strong>P2 - Medium</strong></td><td>6.2 No visual mapping</td><td>Medium</td><td>High</td></tr><tr><td><strong>P2 - Medium</strong></td><td>9.1 Generic error messages</td><td>Medium</td><td>Low</td></tr><tr><td><strong>P3 - Low</strong></td><td>3.4 Delete themes</td><td>Medium</td><td>Low</td></tr><tr><td><strong>P3 - Low</strong></td><td>5.3 Accessibility guidance</td><td>Low</td><td>Medium</td></tr><tr><td><strong>P3 - Low</strong></td><td>7.2 Batch operations</td><td>Low</td><td>High</td></tr><tr><td><strong>P3 - Low</strong></td><td>8.1 Compact view</td><td>Low</td><td>Medium</td></tr></tbody></table><hr><h2 id="quick-wins-high-impact-low-effort" tabindex="-1">Quick Wins (High Impact, Low Effort) <a class="header-anchor" href="#quick-wins-high-impact-low-effort" aria-label="Permalink to &quot;Quick Wins (High Impact, Low Effort)&quot;">​</a></h2><p>These improvements provide significant usability gains with minimal development effort:</p><ol><li><strong>Fix localization interpolation</strong> - Shows actual theme name/path instead of <code>{name}</code></li><li><strong>Add built-in JSON themes to selector</strong> - Scan <code>themes/</code> directory in <code>available_themes()</code></li><li><strong>Add discard confirmation dialog</strong> - Prevent accidental data loss when closing with unsaved changes</li><li><strong>Highlight selected field row</strong> - Clear visual feedback for current selection</li><li><strong>Warn on theme name collision</strong> - Prevent accidental overwrites</li><li><strong>Improve error messages</strong> - Include the invalid input in error messages</li></ol><hr><h2 id="implementation-notes" tabindex="-1">Implementation Notes <a class="header-anchor" href="#implementation-notes" aria-label="Permalink to &quot;Implementation Notes&quot;">​</a></h2><h3 id="for-issue-2-1-built-in-json-themes" tabindex="-1">For Issue 2.1 (Built-in JSON themes) <a class="header-anchor" href="#for-issue-2-1-built-in-json-themes" aria-label="Permalink to &quot;For Issue 2.1 (Built-in JSON themes)&quot;">​</a></h3><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// In src/view/theme.rs, modify available_themes()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">pub</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> available_themes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> mut</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> themes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;dark&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">to_string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;light&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">to_string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;high-contrast&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">to_string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;nostalgia&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">to_string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ADD: Scan built-in themes directory</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Ok</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(entries) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> std</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read_dir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;themes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> entry </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> entries</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flatten</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> entry</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">extension</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">is_some_and</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ext</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ext </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(stem) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">file_stem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stem</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">to_string_lossy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">to_string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                    if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">themes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">iter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> t </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        themes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(name);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Existing: Scan user themes directory</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="for-issue-3-1-discard-confirmation" tabindex="-1">For Issue 3.1 (Discard confirmation) <a class="header-anchor" href="#for-issue-3-1-discard-confirmation" aria-label="Permalink to &quot;For Issue 3.1 (Discard confirmation)&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// In plugins/theme_editor.ts, modify theme_editor_close()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">globalThis.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">theme_editor_close</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">state.isOpen) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (state.hasChanges) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Show confirmation prompt instead of immediate close</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    editor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startPrompt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Discard unsaved changes? (y/n)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;theme-discard-confirm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  doClose</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="for-issue-1-2-field-selection-highlight" tabindex="-1">For Issue 1.2 (Field selection highlight) <a class="header-anchor" href="#for-issue-1-2-field-selection-highlight" aria-label="Permalink to &quot;For Issue 1.2 (Field selection highlight)&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// In applyHighlighting(), add highlight for current field</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> currentField</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getFieldAtCursor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (currentField) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Add background highlight to the current field&#39;s line</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fieldEntry</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> entries.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e.properties?.path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> currentField.path);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (fieldEntry) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    addColorOverlay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bufferId, fieldByteOffset, fieldByteOffset </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fieldLen,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Subtle highlight color</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      false</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // not bold</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,103)])])}const k=i(n,[["render",o]]);export{c as __pageData,k as default};
